;
self.SPZ=self.SPZ||[];try{self.SPZ&&!Array.isArray(self.SPZ)||function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var i,r=function(){function n(){t(this,n),this.signal_=new o}return e(n,[{key:"abort",value:function(){if(!this.signal_.isAborted_&&(this.signal_.isAborted_=!0,this.signal_.onabort_)){var t={"type":"abort","bubbles":!1,"cancelable":!1,"target":this.signal_,"currentTarget":this.signal_};this.signal_.onabort_(t)}}},{key:"signal",get:function(){return this.signal_}}]),n}(),o=function(){function n(){t(this,n),this.isAborted_=!1,this.onabort_=null}return e(n,[{key:"aborted",get:function(){return this.isAborted_}},{key:"onabort",get:function(){return this.onabort_},set:function(t){this.onabort_=t}}]),n}();function u(t,n){for(var e=n||0,i=this.length,r=e>=0?e:Math.max(i+e,0);r<i;r++){var o=this[r];if(o===t||t!=t&&o!=o)return!0}return!1}function s(){return i||(i=Promise.resolve(void 0))}var a=function t(){var n=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.promise=new Promise((function(t,e){n.resolve=t,n.reject=e}))};function l(t){return new Promise((function(n){n(t())}))}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var h=Object.prototype,v=h.hasOwnProperty,y=h.toString;function p(t){return"[object Object]"===y.call(t)}function d(t){return"{}"===JSON.stringify(t)}function m(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function b(t){return t||{}}function k(t,n){return v.call(t,n)}function w(t,n){if("."==n)return t;var e,i=t,r=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,n):void 0}}(t))){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(s)throw o}}}}(n.split("."));try{for(r.s();!(e=r.n()).done;){var o=e.value;if(!(o&&i&&void 0!==i[o]&&"object"==c(i)&&k(i,o))){i=void 0;break}i=i[o]}}catch(t){r.e(t)}finally{r.f()}return i}function g(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return z(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?z(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(s)throw o}}}}function z(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function j(t){var n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t;var e=t.message,i=t.stack,r=new Error(e);for(var o in t)r[o]=t[o];return r.stack=i,r}function S(t){var n,e=null,i="",r=g(arguments);try{for(r.s();!(n=r.n()).done;){var o=n.value;o instanceof Error&&!e?e=j(o):(i&&(i+=" "),i+=o)}}catch(t){r.e(t)}finally{r.f()}return e?i&&(e.message=i+": "+e.message):e=new Error(i),e}function O(t){var n=S.apply(null,arguments);setTimeout((function(){var t,e;throw null===(t=(e=self).__SPZ_REPORT_ERROR)||void 0===t||t.call(e,n),n}))}function E(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return x(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?x(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(s)throw o}}}}function x(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function _(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function A(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,n,e){return n&&A(t.prototype,n),e&&A(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var C=/^[a-z][a-z0-9._]*-[a-z0-9._-]*$/,P=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],I={"childList":!0,"subtree":!0};function R(t,n){if(!C.test(n)||P.includes(n))throw new t('invalid custom element name "'.concat(n,'"'))}var M=function(){function t(n,e){_(this,t),this.win_=n,this.registry_=e,this.pendingDefines_=m()}return T(t,[{key:"define",value:function(t,n,e){this.registry_.define(t,n,e);var i=this.pendingDefines_,r=i[t];r&&(r.resolve(),delete i[t])}},{key:"get",value:function(t){var n=this.registry_.getByName(t);if(n)return n.ctor}},{key:"whenDefined",value:function(t){var n=this.win_;if(n.Promise,R(n.SyntaxError,t),this.registry_.getByName(t))return s();var e=this.pendingDefines_,i=e[t];return i||(i=new a,e[t]=i),i.promise}},{key:"upgrade",value:function(t){this.registry_.upgrade(t)}}]),t}(),D=function(){function t(n){_(this,t),this.win_=n,this.definitions_=m(),this.query_="",this.current_=null,this.mutationObserver_=null,this.roots_=[n.document]}return T(t,[{key:"current",value:function(){var t=this.current_;return this.current_=null,t}},{key:"getByName",value:function(t){var n=this.definitions_[t];if(n)return n}},{key:"getByConstructor",value:function(t){var n=this.definitions_;for(var e in n){var i=n[e];if(i.ctor===t)return i}}},{key:"define",value:function(t,n,e){var i=this.win_,r=i.Error,o=i.SyntaxError;if(e)throw new r("Extending native custom elements is not supported");if(R(o,t),this.getByName(t)||this.getByConstructor(n))throw new r('duplicate definition "'.concat(t,'"'));this.definitions_[t]={name:t,ctor:n},this.observe_(t);var u,s=E(this.roots_);try{for(s.s();!(u=s.n()).done;){var a=u.value;this.upgrade(a,t)}}catch(t){s.e(t)}finally{s.f()}}},{key:"upgrade",value:function(t,n){var e,i=!!n,r=n||this.query_,o=E(this.queryAll_(t,r));try{for(o.s();!(e=o.n()).done;){var u=e.value;i?this.connectedCallback_(u):this.upgradeSelf(u)}}catch(t){o.e(t)}finally{o.f()}}},{key:"upgradeSelf",value:function(t){var n=this.getByName(t.localName);n&&this.upgradeSelf_(t,n)}},{key:"queryAll_",value:function(t,n){return n&&t.querySelectorAll?t.querySelectorAll(n):[]}},{key:"upgradeSelf_",value:function(t,n){var e=n.ctor;if(!(t instanceof e)){this.current_=t;try{if(new e!==t)throw new this.win_.Error("Constructor illegally returned a different instance.")}catch(t){O(t)}}}},{key:"connectedCallback_",value:function(t){var n=this.getByName(t.localName);if(n&&(t=t,this.upgradeSelf_(t,n),t.connectedCallback))try{t.connectedCallback()}catch(t){O(t)}}},{key:"disconnectedCallback_",value:function(t){if((t=t).disconnectedCallback)try{t.disconnectedCallback()}catch(t){O(t)}}},{key:"observe_",value:function(t){var n=this;if(this.query_)this.query_+=",".concat(t);else{this.query_=t;var e=new this.win_.MutationObserver((function(t){t&&n.handleRecords_(t)}));this.mutationObserver_=e;var i,r=E(this.roots_);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.observe(o,I)}}catch(t){r.e(t)}finally{r.f()}!function(t,n){var e,i=t.Document,r=t.Element,o=t.Node,u=t.document,s=i.prototype,a=r.prototype,l=o.prototype,c=s.createElement,f=s.importNode,h=l.appendChild,v=l.cloneNode,y=l.insertBefore,p=l.removeChild,d=l.replaceChild;s.createElement=function(t){var e=n.getByName(t);return e?new e.ctor:c.apply(this,arguments)},s.importNode=function(){var t=f.apply(this,arguments);return t&&this===u&&(n.upgradeSelf(t),n.upgrade(t)),t},l.appendChild=function(){var t=h.apply(this,arguments);return n.sync(),t},l.insertBefore=function(){var t=y.apply(this,arguments);return n.sync(),t},l.removeChild=function(){var t=p.apply(this,arguments);return n.sync(),t},l.replaceChild=function(){var t=d.apply(this,arguments);return n.sync(),t},l.cloneNode=function(){var t=v.apply(this,arguments);return t.ownerDocument===u&&(n.upgradeSelf(t),n.upgrade(t)),t};var m=a,b=Object.getOwnPropertyDescriptor(m,"innerHTML");if(b||(m=Object.getPrototypeOf(t.HTMLElement.prototype),b=Object.getOwnPropertyDescriptor(m,"innerHTML")),null!==(e=b)&&void 0!==e&&e.configurable){var k=b.set;b.set=function(t){k.call(this,t),n.upgrade(this)},Object.defineProperty(m,"innerHTML",b)}}(this.win_,this)}}},{key:"observe",value:function(t){this.roots_.push(t),this.mutationObserver_&&this.mutationObserver_.observe(t,I)}},{key:"sync",value:function(){this.mutationObserver_&&this.handleRecords_(this.mutationObserver_.takeRecords())}},{key:"handleRecords_",value:function(t){var n,e=E(t);try{for(e.s();!(n=e.n()).done;){var i=n.value;if(i){var r,o=i.addedNodes,u=i.removedNodes,s=E(o);try{for(s.s();!(r=s.n()).done;){var a=r.value,l=this.queryAll_(a,this.query_);this.connectedCallback_(a);var c,f=E(l);try{for(f.s();!(c=f.n()).done;){var h=c.value;this.connectedCallback_(h)}}catch(t){f.e(t)}finally{f.f()}}}catch(t){s.e(t)}finally{s.f()}var v,y=E(u);try{for(y.s();!(v=y.n()).done;){var p=v.value,d=this.queryAll_(p,this.query_);this.disconnectedCallback_(p);var m,b=E(d);try{for(b.s();!(m=b.n()).done;){var k=m.value;this.disconnectedCallback_(k)}}catch(t){b.e(t)}finally{b.f()}}}catch(t){y.e(t)}finally{y.f()}}}}catch(t){e.e(t)}finally{e.f()}}}]),t}();function F(t){return t==this||this.documentElement.contains(t)}function L(t){return t?Array.prototype.slice.call(t):[]}var N=Array.isArray;function U(t,n){for(var e=[],i=0,r=0;r<t.length;r++){var o=t[r];n(o,r,t)?e.push(o):(i<r&&(t[i]=o),i++)}return i<t.length&&(t.length=i),e}function Z(t,n){var e=t.indexOf(n);return-1!=e&&(t.splice(e,1),!0)}function B(t){return"string"==typeof t}function V(t,n,e){var i=0,r=null;function o(o){r=null,i=t.setTimeout(u,e),n.apply(null,o)}function u(){i=0,r&&o(r)}return function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];i?r=n:o(n)}}function H(t,n,e){var i=0,r=0,o=null;function u(){i=0;var s,a=e-(t.Date.now()-r);a>0?i=t.setTimeout(u,a):(s=o,o=null,n.apply(null,s))}return function(){r=t.Date.now();for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];o=s,i||(i=t.setTimeout(u,e))}}function G(t){return 1==(null==t?void 0:t.nodeType)}function $(t){return"number"==typeof t&&isFinite(t)}function W(t){return G(t)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t}function q(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(t)return t;for(var e=2,i=n.split("%s"),r=i.shift(),o=[r];i.length;){var u=arguments[e++],s=i.shift();r+=W(u)+s,o.push(u,s.trim())}var a=new Error(r);throw a.messageArray=U(o,(function(t){return""!==t})),a}function J(t,n){return Y(t,G(t),"Element expected",n)}function Q(t,n){return Y(t,B(t),"String expected",n)}function X(t,n){return Y(t,"number"==typeof t,"Number expected",n)}function Y(t,n,e,i){return N(i)?q(n,i.concat([t])):q(n,"".concat(i||e,": %s"),t),t}function K(t){return JSON.parse(t)}function tt(t){return"undefined"!=typeof TextEncoder?new TextEncoder("utf-8").encode(t):function(t){for(var n=new Uint8Array(t.length),e=0;e<t.length;e++){var i=t.charCodeAt(e);q(i<=255,"Characters must be in range [0,255]"),n[e]=i}return n}(unescape(encodeURIComponent(t)))}function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function it(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?et(Object(e),!0).forEach((function(n){rt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):et(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function rt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ot(t,n){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function ut(t,n){if(n&&("object"===nt(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function at(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function lt(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ct(t,n,e){return n&&lt(t.prototype,n),e&&lt(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var ft={document:1,text:2},ht=["GET","POST"];function vt(t,n){var e=new XMLHttpRequest;if(!("withCredentials"in e))throw new Error("CORS is not supported");return e.open(t,n,!0),e}var yt=function(){function t(n){at(this,t),this.xhr_=n,this.status=this.xhr_.status,this.statusText=this.xhr_.statusText,this.ok=this.status>=200&&this.status<300,this.headers=new mt(n),this.bodyUsed=!1,this.body=null,this.url=n.responseURL}return ct(t,[{key:"clone",value:function(){return q(!this.bodyUsed,"Body already used"),new t(this.xhr_)}},{key:"drainText_",value:function(){return q(!this.bodyUsed,"Body already used"),this.bodyUsed=!0,Promise.resolve(this.xhr_.responseText)}},{key:"text",value:function(){return this.drainText_()}},{key:"json",value:function(){return this.drainText_().then(K)}},{key:"arrayBuffer",value:function(){return this.drainText_().then(tt)}}]),t}();function pt(t){return void 0===t?"GET":(t=t.toUpperCase(),q(ht.includes(t),"Only one of %s is currently allowed. Got %s",ht.join(", "),t),t)}var dt,mt=function(){function t(n){at(this,t),this.xhr_=n}return ct(t,[{key:"get",value:function(t){return this.xhr_.getResponseHeader(t)}},{key:"has",value:function(t){return null!=this.xhr_.getResponseHeader(t)}}]),t}(),bt=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ot(t,n)}(r,t);var n,e,i=(n=r,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=st(n);if(e){var r=st(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return ut(this,t)});function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};at(this,r);var e=m(),o=it({status:200,statusText:"OK",responseText:t?String(t):"",getResponseHeader:function(t){var n=String(t).toLowerCase();return k(e,n)?e[n]:null}},n);if(o.status=void 0===n.status?200:parseInt(n.status,10),N(n.headers))n.headers.forEach((function(t){var n=t[0],i=t[1];e[String(n).toLowerCase()]=String(i)}));else if(p(n.headers))for(var u in n.headers)e[String(u).toLowerCase()]=String(n.headers[u]);return n.statusText&&(o.statusText=String(n.statusText)),i.call(this,o)}return r}(yt);function kt(t){return"loading"!=t.readyState&&"uninitialized"!=t.readyState}function wt(t){return new Promise((function(n){!function(t,n){!function(t,n,e){var i=n(t);i?e(t):t.addEventListener("readystatechange",(function r(){n(t)&&(i||(i=!0,e(t)),t.removeEventListener("readystatechange",r))}))}(t,kt,n)}(t,n)}))}function gt(t){return void 0!==dt?dt:dt=function(t){try{var n=t.ownerDocument,e=n.createElement("div"),i=n.createElement("div");return e.appendChild(i),e.querySelector(":scope div")===i}catch(t){return!1}}(t)}function zt(t,n){return t.replace(/^|,/g,"$&".concat(n," "))}function jt(t,n){var e="i-spzhtml-scoped";t.classList.add(e);var i=zt(n,".".concat(e)),r=t.querySelectorAll(i);return t.classList.remove(e),r}function St(t,n){if(gt(t))return t.querySelector(zt(n,":scope"));var e=jt(t,n);return void 0===e[0]?null:e[0]}function Ot(t,n){return gt(t)?null==t?void 0:t.querySelectorAll(zt(n,":scope")):jt(t,n)}function Et(t,n){var e=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!e&&e.call(t,n)}function xt(t,n,e){for(var i=t;i&&i!==e;i=i.parentElement)if(n(i))return i;return null}function _t(t,n){return t.closest?t.closest(n):xt(t,(function(t){return Et(t,n)}))}function At(t,n){for(var e=t.lastElementChild;e;e=e.previousElementSibling)if(n(e))return e;return null}function Tt(t,n){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)n(i)&&e.push(i);return e}var Ct,Pt={bubbles:!0,cancelable:!0},It=[],Rt=[],Mt=[];function Dt(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(n(t))e();else{var r=Mt.push(i),o=t.ownerDocument.defaultView;if(o.MutationObserver){var u=new o.MutationObserver((function(){n(t)&&(u.disconnect(),e(),Mt[r]=function(){})}));It.push(u),u.observe(t,{childList:!0})}else{var s=o.setInterval((function(){n(t)&&(o.clearInterval(s),e(),Mt[r]=function(){})}),5);Rt.push(s)}Ft()}}function Ft(){if(!self.__SPZ_WAIT_FOR_CHILD){self.__SPZ_WAIT_FOR_CHILD=!0;var t=function(){Rt.forEach((function(t){self.clearInterval(t)})),It.forEach((function(t){t.disconnect()})),Mt.forEach((function(t){t()}))};kt(self.document)?t():wt(self.document).then((function(){return t()}))}}function Lt(t){return new Promise((function(n){return function(t,n){Dt(t.documentElement,(function(){return!!t.body}),n)}(t,n)}))}function Nt(t){var n;null===(n=t.parentElement)||void 0===n||n.removeChild(t)}function Ut(t,n){t.insertBefore(n,t.firstChild)}function Zt(t){var n=t.isConnected;if(void 0!==n)return n;for(var e=t;(e=Bt(e)).host;)e=e.host;return e.nodeType===Node.DOCUMENT_NODE}function Bt(t){if(Node.prototype.getRootNode)return t.getRootNode()||t;var n;for(n=t;n.parentNode;n=n.parentNode);return n}function Vt(t,n){var e=t;do{if(e.nextSibling)return!0}while((e=e.parentNode)&&e!=n);return!1}function Ht(t){try{t.focus()}catch(t){}}function Gt(t,n,e,i){var r=e||{},o=t.ownerDocument.createEvent("Event");o.data=r;var u=i||Pt,s=u.bubbles,a=u.cancelable;o.initEvent(n,s,a),t.dispatchEvent(o)}function $t(t,n){return n!==t&&t.contains(n)}function Wt(t,n,e,i){return{left:t,top:n,width:e,height:i,bottom:n+i,right:t+e,x:t,y:n}}function qt(){return Zt(this)?Ct.call(this):Wt(0,0,0,0)}function Jt(t){return(t=Number(t))?t>0?1:-1:t}var Qt,Xt,Yt,Kt=Object.prototype.hasOwnProperty;function tn(t,n){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Kt.call(r,o)&&(e[o]=r[o])}return e}function nn(t){return Object.keys(t).map((function(n){return t[n]}))}function en(t,n){var e=n>0?0|n:0;return this.substr(e,t.length)===t}function rn(t){var n=t.ownerDocument||t;return Xt&&Xt.ownerDocument===n||(Xt=n.createElement("div")),on}function on(t){return function(t,n){q(1===n.length,"Improper html template tag usage. %s",n.length),t.innerHTML=n[0];var e=t.firstElementChild;return q(e,"No elements in template"),q(!e.nextElementSibling,"Too many root elements in template"),t.removeChild(e),e}(Xt,t)}(Qt=self).fetch||(Object.defineProperty(Qt,"fetch",{value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(e,i){var r=pt(n.method||"GET"),o=vt(r,t);"include"==n.credentials&&(o.withCredentials=!0),n.responseType in ft&&(o.responseType=n.responseType),n.headers&&Object.keys(n.headers).forEach((function(t){o.setRequestHeader(t,n.headers[t])})),o.onreadystatechange=function(){if(!(o.readyState<2))return o.status<100||o.status>599?(o.onreadystatechange=null,void i(new Error("Unknown HTTP status ".concat(o.status)))):void(4==o.readyState&&e(new yt(o)))},o.onerror=function(){i(new Error("Network failure"))},o.onabort=function(){i(new Error("Request aborted"))},"POST"==r?o.send(n.body):o.send()}))},writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(Qt,"Response",{value:bt,writable:!0,enumerable:!1,configurable:!0})),function(t){t.Math.sign||t.Object.defineProperty(t.Math,"sign",{enumerable:!1,configurable:!0,writable:!0,value:Jt})}(self),function(t){t.Object.assign||t.Object.defineProperty(t.Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:tn})}(self),function(t){t.Object.values||t.Object.defineProperty(t.Object,"values",{configurable:!0,writable:!0,value:nn})}(self),function(t){t.Array.prototype.includes||t.Object.defineProperty(t.Array.prototype,"includes",{enumerable:!1,configurable:!0,writable:!0,value:u})}(self),function(t){var n=t.Map,e=new n;if(e.set(0,0)!==e){var i=e.set;t.Object.defineProperty(n.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(){return i.apply(this,arguments),this}})}}(self),function(t){var n=t.Set,e=new n;if(e.add(0)!==e){var i=e.add;t.Object.defineProperty(n.prototype,"add",{enumerable:!1,configurable:!0,writable:!0,value:function(){return i.apply(this,arguments),this}})}}(self),function(t){t.String.prototype.startsWith||t.Object.defineProperty(t.String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:en})}(self),self.document&&(function(t){var n=t.HTMLDocument||t.Document;n&&!n.prototype.contains&&t.Object.defineProperty(n.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:F})}(self),function(t){(function(t){if(!t.document)return!1;try{return 0!==t.document.createElement("div").getBoundingClientRect().top}catch(t){return!0}})(t)&&(Ct=Element.prototype.getBoundingClientRect,t.Object.defineProperty(t.Element.prototype,"getBoundingClientRect",{value:qt}))}(self),function(t,n){var e=t.document,i=function(t){var n=t.customElements;return!!(n&&n.define&&n.get&&n.whenDefined)}(t);if(!(!e||i&&function(t){return-1===t.HTMLElement.toString().indexOf("[native code]")}(t))){var r=!0,o=!1;if(n&&i)try{var u=t.Reflect,s=Object.create(n.prototype);Function.call.call(n,s),o=!(null==u||!u.construct)}catch(t){r=!1}!o&&r&&function(t){var n=t.Element,e=new D(t),i=new M(t,e);Object.defineProperty(t,"customElements",{enumerable:!0,configurable:!0,value:i});var r=n.prototype,o=r.attachShadow,u=r.createShadowRoot;o&&(r.attachShadow=function(t){var n=o.apply(this,arguments);return e.observe(n),n},r.attachShadow.toString=function(){return o.toString()}),u&&(r.createShadowRoot=function(){var t=u.apply(this,arguments);return e.observe(t),t},r.createShadowRoot.toString=function(){return u.toString()})}(t)}}(self,function(){return function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}}()),function(t){t.AbortController||(Object.defineProperty(t,"AbortController",{configurable:!0,enumerable:!1,writable:!0,value:r}),Object.defineProperty(t,"AbortSignal",{configurable:!0,enumerable:!1,writable:!0,value:o}))}(self));var un=["Webkit","webkit","Moz","moz","ms","O","o"],sn={"getPropertyPriority":function(){return""},"getPropertyValue":function(){return""}};function an(t,n,e){if(vn(n))return n;Yt||(Yt=m());var i=Yt[n];if(!i||e){if(i=n,void 0===t[n]){var r=function(t,n){for(var e=0;e<un.length;e++){var i=un[e]+n;if(void 0!==t[i])return i}return""}(t,function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n));void 0!==t[r]&&(i=r)}e||(Yt[n]=i)}return i}function ln(t,n,e,i,r){var o=an(t.style,n,r);if(o){var u=i?e+i:e;vn(o)?t.style.setProperty(o,u):t.style[o]=u}}function cn(t,n){for(var e in n)ln(t,e,n[e])}function fn(t,n){void 0===n&&(n=t.hasAttribute("hidden")),n?t.removeAttribute("hidden"):t.setAttribute("hidden","")}function hn(t,n){return t.getComputedStyle(n)||sn}function vn(t){return t.startsWith("--")}var yn=['<i-spzhtml-sizer class=i-spzhtml-sizer slot=i-spzhtml-svc><img alt="" role=presentation aria-hidden=true class=i-spzhtml-intrinsic-sizer></i-spzhtml-sizer>'],pn=["SPZ-IMG","LJS-IMG"],dn={NODISPLAY:"nodisplay",FIXED:"fixed",FIXED_HEIGHT:"fixed-height",RESPONSIVE:"responsive",CONTAINER:"container",FILL:"fill",FLEX_ITEM:"flex-item",INTRINSIC:"intrinsic",LOGIC:"logic"},mn={CONTENT:0,METADATA:1,ADS:2,BACKGROUND:3},bn=/^spz\-(video|.+player)|SPZ-BRIGHTCOVE|SPZ-DAILYMOTION|SPZ-YOUTUBE|SPZ-VIMEO|SPZ-IMA-VIDEO/i;function kn(t){for(var n in dn)if(dn[n]==t)return dn[n]}function wn(t){return t==dn.FIXED||t==dn.FIXED_HEIGHT||t==dn.RESPONSIVE||t==dn.FILL||t==dn.FLEX_ITEM||t==dn.INTRINSIC}function gn(t){return"number"==typeof t?t+"px":t&&/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)?$/.test(t)?/^\d+(\.\d+)?$/.test(t)?t+"px":t:void 0}function zn(t){return function(t){q(/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)$/.test(t),"Invalid length value: %s",t)}(t),q(/[a-z]+/i.exec(t),"Failed to read units from %s",t)[0]}function jn(t){var n=parseFloat(t);return $(n)?n:void 0}var Sn,On,En=/ljs-(.*)/,xn="v1",_n="spz-",An="ljs-",Tn=/^spz-/,Cn=/(}|,|\s)spz-/gi;function Pn(t){var n=t.tagName;return n.startsWith("SPZ-")||n.startsWith("LJS-")}function In(t){return(null==t?void 0:t.startsWith(_n))&&!(null!=t&&t.startsWith(An))}function Rn(t,n){return n===xn&&Fn(t)}function Mn(t){return Fn(t)}function Dn(t){if(!En.test(t))return t;var n=t.replace("ljs","spz");return Ln(n,t),n}function Fn(t){return self.__SPZ_THIRD_EXTENSION||(self.__SPZ_THIRD_EXTENSION={}),self.__SPZ_THIRD_EXTENSION[t]}function Ln(t,n){self.__SPZ_THIRD_EXTENSION||(self.__SPZ_THIRD_EXTENSION={}),self.__SPZ_THIRD_EXTENSION[t]=n}function Nn(t){var n=t||self;return n.__SPZ_MODE?n.__SPZ_MODE:n.__SPZ_MODE={localDev:!!(self.SPZ_CONFIG||{}).localDev,esm:!1,minified:!0,version:"1.0"}}var Un="latest",Zn=null!==(Sn=self.seahorse_env)&&void 0!==Sn&&Sn.v1_spz_version?"?v=".concat(null===(On=self.seahorse_env)||void 0===On?void 0:On.v1_spz_version):"";function Bn(t){var n=In(t)||!t,e=self.SPZ,i=e.cdn,r=e.spzVersion,o=self.SPZ.spzVersion.includes(xn)||n?r:xn;return o?"".concat(i,"/").concat(o):"".concat(i)}function Vn(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.1",e=Nn().esm?".mjs":".js",i=Bn(t),r=n?"-"+n:"";return t=Dn(t),"".concat(i,"/").concat(t).concat(r).concat(e).concat(Zn)}function Hn(t){if(!t)return null;var n=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i),e=n?n[2]:void 0,i=n?n[3]:void 0;return e&&i?{extensionId:e,extensionVersion:i}:null}function Gn(t,n,e){var i=t.document.createElement("script");i.async=!0,i.setAttribute("custom-element",n),i.setAttribute("data-script",n),i.setAttribute("i-spzhtml-inserted",""),Nn().esm&&i.setAttribute("type","module");var r=t.document.head.querySelector("script[nonce]");r&&i.setAttribute("nonce",r.getAttribute("nonce")),i.setAttribute("crossorigin","anonymous");var o=Vn(n,e);return i.src=o,i}function $n(){var t=self.document.head;if(!t)return[];for(var n=t.querySelectorAll("script[custom-element],script[custom-template]"),e=[],i=0;i<n.length;i++){var r=n[i],o=r.getAttribute("custom-element")||r.getAttribute("custom-template"),u=Hn(r.src);o&&u&&e.push({extensionId:o,extensionVersion:u.extensionVersion})}return e}function Wn(t,n,e,i){var r=self.document.head,o=function(t,n,e,i){var r=t.__SPZ_CSS_SM;r||(r=t.__SPZ_CSS_SM=m());var o=!e&&i&&"spz-custom"!=i&&"spz-keyframes"!=i,u=e?"spz-runtime":o?"spz-extension=".concat(i):null;if(u){var s=qn(t,r,u);if(s)return s.textContent!==n&&(s.textContent=n),s}var a=(t.ownerDocument||t).createElement("style");a.textContent=n;var l=null;return e?a.setAttribute("spz-runtime",""):o?(a.setAttribute("spz-extension",i||""),l=J(qn(t,r,"spz-runtime"))):(i&&a.setAttribute(i,""),l=t.lastChild),function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e){var i=e.nextSibling;t.insertBefore(n,i)}else Ut(t,n)}(t,a,l),u&&(r[u]=a),a}(r,function(t,n){var e=t.__SPZ_CSS_TR;return e?e(n):n}(r,t),e||!1,i||null);if(n){var u=self.document;if(Yn(u,o))return n(o),o;var s=setInterval((function(){Yn(u,o)&&(clearInterval(s),n(o))}),4)}return o}function qn(t,n,e){if(n[e])return n[e];var i=t.querySelector("style[".concat(e,"]"));return i?(n[e]=i,i):null}var Jn=!1;function Qn(t){q(t.defaultView,"Passed in document must have a defaultView"),Jn||(Jn=!0,Xn(t))}function Xn(t){cn(J(t.body),{opacity:1,visibility:"visible","animation":"none"})}function Yn(t,n){for(var e=t.styleSheets,i=0;i<e.length;i++)if(e[i].ownerNode==n)return!0;return!1}var Kn=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.level_=this.defaultLevel_()}var n,e;return n=t,(e=[{key:"getLevel_",value:function(){return this.level_}},{key:"defaultLevel_",value:function(){return this.win.console&&this.win.console.log?3:0}},{key:"msg_",value:function(t,n,e){if(this.getLevel_()<n)return!1;var i=this.win.console.log;1==n?i=this.win.console.error||i:3==n?i=this.win.console.info||i:2==n&&(i=this.win.console.warn||i);var r="[".concat(t,"]");return N(e)?"string"==typeof e[0]?e[0]=r+" "+e[0]:e.unshift(r):e=r+e,i.apply(this.win.console,e),e}},{key:"isEnabled",value:function(){return 0!=this.getLevel_()}},{key:"fine",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];this.msg_(t,4,e)}},{key:"info",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];this.msg_(t,3,e)}},{key:"warn",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];this.msg_(t,2,e)}},{key:"error_",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return this.msg_(t,1,e)}},{key:"error",value:function(t,n){var e=this.error_.apply(this,arguments);e&&(e.name=t||e.name,self.__SPZ_REPORT_ERROR(e))}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();self.__SPZ_LOG=self.__SPZ_LOG||{logger:null};var te=self.__SPZ_LOG;function ne(){return te.logger?te.logger:te.logger=new Kn(self)}function ee(t,n,e,i){ce(t=ae(t),n,e),i&&le(t,n)}function ie(t,n,e){var i=self;ce(i,t,n),e&&le(i,t)}function re(t,n){return le(t=ae(t),n)}function oe(t){return le(self,t)}function ue(t){return ve(self,t)?le(self,t):null}function se(t){return function(t,n){var e=fe(t,n);if(e)return e;var i,r,o,u,s=he(t);return s[n]=(r=(i=new a).promise,o=i.reject,u=i.resolve,r.catch((function(){})),{obj:null,promise:r,resolve:u,reject:o,context:null,ctor:null}),s[n].promise}(self,t)}function ae(t){return t.__SPZ_TOP||(t.__SPZ_TOP=t)}function le(t,n){if(!ve(t,n))return null;var e=he(t)[n];return e.obj||(q(e.ctor,"Service ".concat(n," registered without ctor nor impl.")),q(e.context,"Service ".concat(n," registered without context.")),e.obj=new e.ctor(e.context),q(e.obj,"Service ".concat(n," constructed to null.")),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function ce(t,n,e,i,r){var o=he(t),u=o[n];u||(u=o[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:r||!1}),!i&&u.ctor||(u.ctor=e,u.context=self,u.sharedInstance=r||!1,u.resolve&&le(t,n))}function fe(t,n){var e=he(t)[n];return e?e.promise?e.promise:(le(t,n),e.promise=Promise.resolve(e.obj)):null}function he(t){var n=t.__SPZ_SERVICES;return n||(n=t.__SPZ_SERVICES={}),n}function ve(t,n){var e=t.__SPZ_SERVICES&&t.__SPZ_SERVICES[n];return!(!e||!e.ctor)}var ye="ready-upgrade",pe="upgraded",de="built",me="mounted",be="load-start",ke="render-start",we="load-end",ge="unload",ze="building",je="mounting",Se="loading",Oe="complete",Ee="error";var xe=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=m(),this.promiseMap_=null}var n,e;return n=t,(e=[{key:"get",value:function(t){var n=this.map_[t];return null==n?null:n}},{key:"whenSignal",value:function(t){var n,e=null===(n=this.promiseMap_)||void 0===n?void 0:n[t];if(!e){var i=this.map_[t];e=null!=i?{promise:"number"==typeof i?Promise.resolve(i):Promise.reject(i)}:new a,this.promiseMap_||(this.promiseMap_=m()),this.promiseMap_[t]=e}return e.promise}},{key:"signal",value:function(t,n){var e;if(null==this.map_[t]){var i=null!=n?n:Date.now();this.map_[t]=i;var r=null===(e=this.promiseMap_)||void 0===e?void 0:e[t];null!=r&&r.resolve&&(r.resolve(i),r.resolve=void 0,r.reject=void 0)}}},{key:"rejectSignal",value:function(t,n){var e;if(null==this.map_[t]){this.map_[t]=n;var i=null===(e=this.promiseMap_)||void 0===e?void 0:e[t];null!=i&&i.reject&&(i.reject(n),i.promise.catch((function(){})),i.resolve=void 0,i.reject=void 0)}}},{key:"reset",value:function(t){var n;this.map_[t]&&delete this.map_[t];var e=null===(n=this.promiseMap_)||void 0===n?void 0:n[t];e&&!e.resolve&&delete this.promiseMap_[t]}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),_e={DOM_UPDATE:"spz:dom-update",FORM_DIRTINESS_CHANGE:"spz:form-dirtiness-change",FORM_VALUE_CHANGE:"spz:form-value-change",VISIBILITY_CHANGE:"spz:visibilitychange",ATTACHED:"spz:attached",STUBBED:"spz:stubbed",LOAD_START:"spz:load-start",LOAD_END:"spz:load-end",ERROR:"spz:error",SIZE_CHANGED:"spz:size-changed",UNLOAD:"spz:unload"},Ae="CANCELLED",Te=self.__SPZ_ERRORS||[];function Ce(t,n){if(self.console){var e=console.error||console.log;t.messageArray?e.apply(console,t.messageArray):e.call(console,t.stack||t.message)}return t}function Pe(t,n,e,i,r){!this||!this.document||r&&r.expected||Qn(this.document)}function Ie(){return new Error(Ae)}self.__SPZ_ERRORS=Te;var Re="scheduler",Me="50% 31.25%",De=function(){function t(){var n=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var e=self;this.observer_=new e.IntersectionObserver((function(t){return n.observed_(t)}),{rootMargin:Me}),this.containerMap_=new Map,this.targets_=new Map,this.parsingTargets_=[],this.scheduledReady_=!1,wt(self.document).then((function(){return n.checkParsing_()}))}var n,e;return n=t,(e=[{key:"dispose",value:function(){this.observer_.disconnect(),this.targets_.clear()}},{key:"scheduleAsap",value:function(t){this.targets_.set(t,{asap:!0,isIntersecting:!1}),this.waitParsing_(t)}},{key:"schedule",value:function(t){var n=t.deferredMount(),e=this.targets_.get(t);this.targets_.has(t)&&(n||e.isIntersecting)||(n?(this.targets_.set(t,{asap:!1,isIntersecting:!1}),this.observer_.observe(t),this.containerMap_.size>0&&this.containerMap_.forEach((function(n,e){$t(e,t)&&n.observe(t)}))):this.targets_.set(t,{asap:!1,isIntersecting:!0}),this.waitParsing_(t))}},{key:"unschedule",value:function(t){this.targets_.has(t)&&(this.targets_.delete(t),this.observer_.unobserve(t),this.containerMap_.size>0&&this.containerMap_.forEach((function(n){n.unobserve(t)})),this.parsingTargets_&&(Z(this.parsingTargets_,t),this.checkParsing_()))}},{key:"setContainer",value:function(t,n){var e=this;if(!this.containerMap_.has(t)){var i=new self.IntersectionObserver((function(t){return e.observed_(t)}),{root:n||t,rootMargin:Me});this.containerMap_.set(t,i),this.targets_.forEach((function(n,e){!n.asap&&$t(t,e)&&i.observe(e)}))}}},{key:"removeContainer",value:function(t){var n=this.containerMap_.get(t);n&&(n.disconnect(),this.containerMap_.delete(t))}},{key:"signalScanReady_",value:function(){kt(self.document)&&!this.scheduledReady_&&(this.scheduledReady_=!0)}},{key:"waitParsing_",value:function(t){var n=this.parsingTargets_;n?(n.includes(t)||n.push(t),this.checkParsing_()):this.maybeBuild_(t)}},{key:"checkParsing_",value:function(){var t=kt(self.document),n=this.parsingTargets_;if(n)for(var e=0;e<n.length;e++){var i=n[e];this.targets_.get(i).isIntersecting&&(t||Vt(i,self.document))&&(n.splice(e--,1),this.observerCallback_(i))}t&&(this.parsingTargets_=null,this.signalScanReady_())}},{key:"observed_",value:function(t){for(var n=0;n<t.length;n++){var e=t[n],i=e.isIntersecting,r=e.target,o=this.targets_.get(r);if(o){var u=i||o.isIntersecting;u!==o.isIntersecting&&this.targets_.set(r,{asap:o.asap,isIntersecting:u}),u&&this.observerCallback_(r)}}}},{key:"observerCallback_",value:function(t){var n=this;this.installExtension_(t).then((function(){return n.maybeBuild_(t)}))}},{key:"maybeBuild_",value:function(t){var n=this.targets_.get(t)||{asap:!1,isIntersecting:!1},e=n.asap,i=n.isIntersecting;if(e||i){this.unschedule(t);var r=self;(e||t.getBuildPriority()<=mn.CONTENT?r.setTimeout:r.requestIdleCallback||r.setTimeout)((function(){return t.mountInternal()}))}}},{key:"installExtension_",value:function(t){return ki.extensionsFor(self).installExtensionForDoc(t.tagName.toLowerCase())}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Fe(){return ie(Re,De),oe(Re)}function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Ue(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ze(t,n,e){return n&&Ue(t.prototype,n),e&&Ue(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Be(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ve(t,n)}function Ve(t,n){return(Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function He(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,i=$e(t);if(n){var r=$e(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return Ge(this,e)}}function Ge(t,n){if(n&&("object"===Le(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var We,qe={bubbles:!1},Je=function(){return!0},Qe="@tap.stop",Xe=[];function Ye(t){return"placeholder"in t}function Ke(t){q(!t.isInTemplate_,"Must never be called in template")}function ti(t){return!(!(e="string"==typeof(n=t)?n:n.tagName)||!e.toLowerCase().startsWith("i-"))||!(!t.tagName||!t.hasAttribute("placeholder"));var n,e}function ni(t){return t.__SPZ_EXTENDED_ELEMENTS||(t.__SPZ_EXTENDED_ELEMENTS={}),t.__SPZ_EXTENDED_ELEMENTS}function ei(t,n){try{t.upgrade(n)}catch(t){Ce(t)}}function ii(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();t.forEach((function(t){var n=t.extensionId;hi(n,t.extensionVersion),ri(self,n)}))}function ri(t,n){ni(t)[n]||oi(t,n,Ti)}function oi(t,n,e){ni(t)[n]=e;var i=function(t){var n=function(t){Be(i,t);var n=He(i);function i(){return Ne(this,i),n.apply(this,arguments)}return Ze(i,[{key:"adoptedCallback",value:function(){Object.getPrototypeOf(this)!==e&&Object.setPrototypeOf(this,e)}}]),i}(function(t){if(t.__SPZ_BASE_CE_CLASS)return t.__SPZ_BASE_CE_CLASS;var n=function(n){Be(i,n);var e=He(i);function i(){var t;return Ne(this,i),(t=e.call(this)).createdCallback(),t}return Ze(i,[{key:"createdCallback",value:function(){this.built_=!1,this.isConnected_=!1,this.buildingPromise_=null,this.mounted_=!1,this.mountPromise_=null,this.mountAbortController_=null,this.readyState_="upgrading",this.everAttached=!1,this.layout_=dn.NODISPLAY,this.sizerElement=void 0;var n=t.__SPZ_EXTENDED_ELEMENTS&&t.__SPZ_EXTENDED_ELEMENTS[this.localName];this.implClass_=n===Ti?null:n||null,this.implClass_||Xe.push(this),this.impl_=null,this.upgradeState_=1,this.upgradeDelayMs_=0,this.actionQueue_=void 0,this.isInTemplate_=void 0,this.signals_=new xe,this.implClass_&&this.signals_.signal(ye)}},{key:"readyState",get:function(){return this.readyState_}},{key:"signals",value:function(){return this.signals_}},{key:"isUpgraded",value:function(){return 2==this.upgradeState_}},{key:"whenUpgraded",value:function(){return this.signals_.whenSignal(pe)}},{key:"upgrade",value:function(t){this.isInTemplate_||1==this.upgradeState_&&(this.implClass_=t,this.signals_.signal(ye),this.everAttached&&this.upgradeOrSchedule_())}},{key:"getUpgradeDelayMs",value:function(){return this.upgradeDelayMs_}},{key:"completeUpgrade_",value:function(n,e){this.impl_=n,this.upgradeDelayMs_=t.Date.now()-e,this.upgradeState_=2,this.setReadyStateInternal(ze),this.classList.remove("spz-unresolved"),this.classList.remove("i-spzhtml-unresolved"),this.assertLayout_(),this.signals_.signal(pe)}},{key:"assertLayout_",value:function(){this.layout_!=dn.NODISPLAY&&this.impl_&&!this.impl_.isLayoutSupported(this.layout_)&&(q(this.getAttribute("layout"),"The element did not specify a layout attribute. "),q(!1,"".concat(this,", Layout not supported: ").concat(this.layout_)))}},{key:"getBuildPriority",value:function(){return this.implClass_?this.implClass_.getBuildPriority(this):mn.BACKGROUND}},{key:"getDefaultActionAlias",value:function(){return q(this.isUpgraded(),"Cannot get default action alias of unupgraded element"),this.impl_.getDefaultActionAlias()}},{key:"isBuilding",value:function(){return!!this.buildingPromise_}},{key:"isBuilt",value:function(){return this.built_}},{key:"isMount",value:function(){return this.mounted_}},{key:"whenBuilt",value:function(){return this.signals_.whenSignal(de)}},{key:"buildInternal",value:function(){var t=this;if(Ke(this),q(this.implClass_,"Cannot build unupgraded element"),this.buildingPromise_)return this.buildingPromise_;this.setReadyStateInternal(ze);var n=this.createImpl_().then((function(){q(t.impl_).buildCallback()}));return this.buildingPromise_=n.then((function(){if(t.built_=!0,t.classList.add("i-spzhtml-built"),t.classList.remove("i-spzhtml-notbuilt"),t.classList.remove("spz-notbuilt"),t.signals_.signal(de),t.setReadyStateInternal(t.readyState_!=ze?t.readyState_:je),t.isConnected_&&t.connected_(),!t.getPlaceholder()){var n=t.createPlaceholder();n&&t.appendChild(n)}}),(function(n){throw t.signals_.rejectSignal(de,n),t.setReadyStateInternal(Ee,n),n}))}},{key:"build",value:function(){var t=this;return this.buildingPromise_?this.buildingPromise_:this.signals_.whenSignal(ye).then((function(){return Fe().scheduleAsap(t),t.whenBuilt()}))}},{key:"mountInternal",value:function(){var t=this;if(this.mountPromise_)return this.mountPromise_;this.mountAbortController_=this.mountAbortController_||new AbortController;var n=this.mountAbortController_.signal;return this.mountPromise_=this.buildInternal().then((function(){if(!n.aborted){t.setReadyStateInternal(t.readyState_!=je?t.readyState_:t.implClass_.usesLoading(t)?Se:je);var e=t.impl_.mountCallback(n);return!!e&&e.then(Je)}})).then((function(e){if(t.mounted_=!0,t.mountAbortController_=null,n.aborted)throw Ie();t.signals_.signal(me),t.implClass_.usesLoading(t)&&!e||t.setReadyStateInternal(Oe),t.actionQueue_&&ki.timerFor(t.ownerDocument.defaultView).delay(t.dequeueActions_.bind(t),1)})).catch((function(n){var e;throw t.mountAbortController_=null,(e=n)&&("string"==typeof e?e.startsWith(Ae):"string"==typeof e.message&&e.message.startsWith(Ae))?t.mountPromise_=null:(t.signals_.rejectSignal(me,n),t.setReadyStateInternal(Ee,n)),n}))}},{key:"mount",value:function(){var t=this;if(this.mountPromise_)return this.mountPromise_;this.mountAbortController_=this.mountAbortController_||new AbortController;var n=this.mountAbortController_.signal;return this.signals_.whenSignal(ye).then((function(){if(n.aborted)throw Ie();return Fe().scheduleAsap(t),t.whenMounted()}))}},{key:"unmount",value:function(){this.mountAbortController_&&(this.mountAbortController_.abort(),this.mountAbortController_=null),Fe().unschedule(this),this.mounted_&&this.impl_.unmountCallback(),this.mounted_=!1,this.mountPromise_=null,this.reset_(),this.isConnected_&&this.upgradeOrSchedule_(!0)}},{key:"whenMounted",value:function(){return this.signals_.whenSignal(me)}},{key:"whenLoaded",value:function(){return this.signals_.whenSignal(we)}},{key:"ensureLoaded",value:function(){var t=this;return this.mount().then((function(){return t.implClass_.usesLoading(t)&&t.impl_.ensureLoaded(),t.whenLoaded()}))}},{key:"setAsContainerInternal",value:function(t){Fe().setContainer(this,t)}},{key:"removeAsContainerInternal",value:function(){Fe().removeContainer(this)}},{key:"setReadyStateInternal",value:function(t,n){if(t!==this.readyState_)switch(this.readyState_=t,t){case Se:return this.signals_.signal(be),this.signals_.reset(ge),this.signals_.reset(we),void this.classList.add("i-spzhtml-layout");case Oe:return this.signals_.signal(be),this.signals_.signal(we),this.signals_.reset(ge),this.classList.add("i-spzhtml-layout"),void Gt(this,"load",null,qe);case Ee:return this.signals_.rejectSignal(we,n),void Gt(this,"error",n,qe)}}},{key:"deferredMount",value:function(){return!this.implClass_||this.implClass_.deferredMount(this)}},{key:"getSizer_",value:function(){return void 0!==this.sizerElement||this.layout_!==dn.RESPONSIVE&&this.layout_!==dn.INTRINSIC||(this.sizerElement=this.querySelector("i-spzhtml-sizer")),this.sizerElement||null}},{key:"resetSizer_",value:function(t){if(this.layout_!==dn.RESPONSIVE)if(this.layout_!==dn.INTRINSIC);else{var n=t.querySelector(".i-spzhtml-intrinsic-sizer");if(!n)return;n.setAttribute("src","")}else ln(t,"paddingTop","0")}},{key:"applySize",value:function(t,n,e){var i=this.getSizer_();i&&(this.sizerElement=null,this.resetSizer_(i),this.mutateOrInvoke_((function(){i&&Nt(i)}))),void 0!==t&&ln(this,"height",t,"px"),void 0!==n&&ln(this,"width",n,"px"),e&&(null!=e.top&&ln(this,"marginTop",e.top,"px"),null!=e.right&&ln(this,"marginRight",e.right,"px"),null!=e.bottom&&ln(this,"marginBottom",e.bottom,"px"),null!=e.left&&ln(this,"marginLeft",e.left,"px")),this.isAwaitingSize_()&&this.sizeProvided_(),Gt(this,_e.SIZE_CHANGED)}},{key:"connectedCallback",value:function(){if(function(){if(void 0===We){var t=self.document.createElement("template");We="content"in t}return We}()||void 0!==this.isInTemplate_||(this.isInTemplate_=!!_t(this,"template")),!this.isInTemplate_&&!this.isConnected_&&Zt(this))if(this.isConnected_=!0,this.everAttached||(this.classList.add("i-spzhtml-element"),this.classList.add("i-spzhtml-notbuilt"),this.classList.add("spz-notbuilt"),(t=this).hasAttribute(Qe)&&(t.addEventListener("click",(function(t){t.stopPropagation()})),q(!t.getAttribute(Qe),"The click event has been blocked and cannot be executed.")),t.hasAttribute("@tap.prevent")&&t.addEventListener("click",(function(t){t.preventDefault()}))),this.everAttached)this.reconstructWhenReparented()&&this.reset_(),this.isUpgraded()&&this.connected_(),this.implClass_?this.upgradeOrSchedule_():Fe().schedule(this);else{this.everAttached=!0;try{this.layout_=function(t){var n=t.getAttribute("i-spzhtml-layout");if(n){var e=q(kn(n));return e==dn.NODISPLAY&&(fn(t,!1),t.style.display=""),e}var i=t.getAttribute("layout"),r=t.getAttribute("width"),o=t.getAttribute("height"),u=t.getAttribute("heights"),s=i?kn(i):null;q(s,'Invalid "layout" value: %s, %s',i,t);var a=r&&"auto"!=r?gn(r):r;q(void 0!==a,'Invalid "width" value: %s, %s',r,t);var l=o&&"fluid"!=o?gn(o):o;if(q(void 0!==l,'Invalid "height" value: %s, %s',o,t),(s==dn.FIXED||s==dn.FIXED_HEIGHT||s==dn.RESPONSIVE||s==dn.INTRINSIC&&!pn.includes(t.tagName))&&q(l,'The "height" attribute is missing: %s',t),s==dn.FIXED_HEIGHT&&q(!a||"auto"==a,'The "width" attribute must be missing or "auto": %s',t),s!=dn.FIXED&&s!=dn.RESPONSIVE&&s!=dn.INTRINSIC||q(a&&"auto"!=a,'The "width" attribute must be present and not "auto": %s',t),s==dn.RESPONSIVE||s==dn.INTRINSIC&&!pn.includes(t.tagName)?q(zn(a)==zn(l),'Length units should be the same for "width" and "height": %s, %s, %s',r,o,t):q(null===u,'"heights" attribute must be missing: %s',t),t.classList.add(function(t){return"i-spzhtml-layout-"+t}(s)),wn(s)&&t.classList.add("i-spzhtml-layout-size-defined"),s==dn.NODISPLAY)fn(t,!1),t.style.display="";else if(s==dn.FIXED)cn(t,{width:Q(a),height:Q(l)});else if(s==dn.FIXED_HEIGHT)ln(t,"height",Q(l));else if(s==dn.RESPONSIVE){var c=t.ownerDocument.createElement("i-spzhtml-sizer");cn(c,{paddingTop:jn(l)/jn(a)*100+"%"}),t.insertBefore(c,t.firstChild),t.sizerElement=c}else if(s==dn.INTRINSIC)if(l){var f=rn(t)(yn);f.firstElementChild.setAttribute("src",'data:image/svg+xml;charset=utf-8,<svg height="'.concat(l,'" width="').concat(a,'" xmlns="http://www.w3.org/2000/svg" version="1.1"/>')),t.insertBefore(f,t.firstChild),t.sizerElement=f}else t.setAttribute("i-spzhtml-unheight-layout",""),ln(t,"width",a);else s==dn.FLEX_ITEM&&(a&&ln(t,"width",a),l&&ln(t,"height",l));return t.setAttribute("i-spzhtml-layout",s),s}(this,ki.platformFor(this.ownerDocument.defaultView).isIe())}catch(t){Ce(t)}this.implClass_?this.upgradeOrSchedule_():Fe().schedule(this),this.isUpgraded()||(this.classList.add("spz-unresolved"),this.classList.add("i-spzhtml-unresolved"))}var t}},{key:"isAwaitingSize_",value:function(){return this.classList.contains("i-spzhtml-layout-awaiting-size")}},{key:"sizeProvided_",value:function(){this.classList.remove("i-spzhtml-layout-awaiting-size")}},{key:"upgradeOrSchedule_",value:function(t){this.mountPromise_||(Fe().schedule(this),this.buildingPromise_?this.setReadyStateInternal(this.implClass_&&this.implClass_.usesLoading(this)?Se:je):this.setReadyStateInternal(ze))}},{key:"tryUpgrade_",value:function(){var n=this;if(!this.isInTemplate_&&1==this.upgradeState_){var e=new(q(this.implClass_,"Implementation must not be a stub"))(this);this.upgradeState_=4;var i=t.Date.now(),r=e.upgradeCallback();if(r){if("function"==typeof r.then)return r.then((function(t){n.completeUpgrade_(t||e,i)})).catch((function(t){n.upgradeState_=3,O(t)}));this.completeUpgrade_(r,i)}else this.completeUpgrade_(e,i)}}},{key:"disconnectedCallback",value:function(){this.disconnect(!1)}},{key:"connected_",value:function(){this.built_&&this.impl_.attachedCallback()}},{key:"disconnect",value:function(t){!this.isInTemplate_&&this.isConnected_&&(!t&&Zt(this)||(t&&this.classList.remove("i-spzhtml-element"),this.isConnected_=!1,this.impl_&&this.impl_.detachedCallback(),this.unmount()))}},{key:"prerenderAllowed",value:function(){return!this.hasAttribute("noprerender")&&!!this.implClass_&&this.implClass_.prerenderAllowed(this)}},{key:"isBuildRenderBlocking",value:function(){return!!this.impl_&&this.impl_.isBuildRenderBlocking()}},{key:"createPlaceholder",value:function(){return this.impl_?this.impl_.createPlaceholderCallback():null}},{key:"createLoaderLogo",value:function(){return this.implClass_?this.implClass_.createLoaderLogoCallback(this):{}}},{key:"getImpl",value:function(){var t=this;return(arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.createImpl_():this.build()).then((function(){return t.impl_}))}},{key:"createImpl_",value:function(){var t=this;return this.signals_.whenSignal(ye).then((function(){return t.tryUpgrade_(),t.whenUpgraded()}))}},{key:"getApi",value:function(){return this.getImpl().then((function(t){return t.getApi()}))}},{key:"getData",value:function(){return this.getImpl().then((function(t){return t.getData()}))}},{key:"getLayout",value:function(){return this.layout_}},{key:"reset_",value:function(){this.signals_.reset(me),this.signals_.reset(ke),this.signals_.reset(be),this.signals_.reset(we),this.signals_.reset("ini-load")}},{key:"reconstructWhenReparented",value:function(){return!!this.impl_&&this.impl_.reconstructWhenReparented()}},{key:"mutatedAttributesCallback",value:function(t){this.impl_&&this.impl_.mutatedAttributesCallback(t)}},{key:"enqueAction",value:function(t){Ke(this),this.isBuilt()&&this.isMount()?this.executionAction_(t,!1):(void 0===this.actionQueue_&&(this.actionQueue_=[]),q(this.actionQueue_).push(t),this.isBuilt()?this.mount():this.build())}},{key:"dequeueActions_",value:function(){var t=this;this.actionQueue_&&ki.timerFor(this.ownerDocument.defaultView).delay((function(){var n=q(t.actionQueue_);t.actionQueue_=void 0,n.forEach((function(n){t.executionAction_(n,!0)}))}),1)}},{key:"executionAction_",value:function(t,n){try{this.impl_.executeAction(t,n)}catch(n){O("Action execution failed:",n,t.node.tagName,t.method)}}},{key:"getRealChildNodes",value:function(){return function(t,n){for(var e=[],i=t.firstChild;i;i=i.nextSibling)!ti(i)&&e.push(i);return e}(this)}},{key:"getRealChildren",value:function(){return Tt(this,(function(t){return!ti(t)}))}},{key:"getPlaceholder",value:function(){return At(this,(function(t){return t.hasAttribute("placeholder")&&!Ye(t)}))}},{key:"togglePlaceholder",value:function(t){if(Ke(this),t){var n=this.getPlaceholder();n&&J(n).classList.remove("spz-hidden")}else for(var e=(q(/^[\w-]+$/.test(r="placeholder"),'Expected "'.concat(r,'" to be a CSS name composed of alphanumerics and hyphens.')),Ot(this,"> [".concat("placeholder","]"))),i=0;i<e.length;i++)Ye(e[i])||e[i].classList.add("spz-hidden");var r}},{key:"renderStarted",value:function(){this.signals_.signal(ke),this.togglePlaceholder(!1)}},{key:"mutateOrInvoke_",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ki.mutatorForDoc().mutateElement(n||this,t,e)}},{key:"showToast",value:function(t,n,e){this.getImpl().then((function(i){return i.showToast(t,n,e)}))}}]),i}(t.HTMLElement);return t.__SPZ_BASE_CE_CLASS=n,t.__SPZ_BASE_CE_CLASS}(t)),e=n.prototype;return n}(t);t.customElements.define(n,i)}var ui="extensions",si="0.1",ai="latest",li="__SPZ_EXT_LDR",ci=["spz-img","ljs-img"];function fi(t){return self.__SPZ_DECLARE_EXTENSION||(self.__SPZ_DECLARE_EXTENSION={}),self.__SPZ_DECLARE_EXTENSION[t]||null}function hi(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;self.__SPZ_DECLARE_EXTENSION||(self.__SPZ_DECLARE_EXTENSION={}),q(!self.__SPZ_DECLARE_EXTENSION[t]||self.__SPZ_DECLARE_EXTENSION[t]===n,"extension already declared %s",t),self.__SPZ_DECLARE_EXTENSION[t]=n}function vi(t,n){var e=fi(t);return!(!e||n&&e!==n)}var yi=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.extensions_={},this.currentExtensionId_=null,this.currentExtensionVersion_=null,this.currentExtensionLatest_=null}var n,e;return n=t,(e=[{key:"registerExtension",value:function(t){var n=this,e=t.arg,i=t.extensionId,r=t.factory,o=t.latest,u=t.type,s=t.version,a=function(t,n){var e=self.SPZ.spzVersion.includes(xn);return Rn(t,n)&&!e}(i,u),l=function(t,n){var e=self.SPZ.spzVersion.includes(xn);return Rn(t,n)&&e}(i,u),c=function(t){var i,u=o?n.extensions_[di(t,ai)]:null,l=n.getExtensionHolder_(t,s,null===(i=null==u?void 0:u.auto)||void 0===i||i);if(l.latest=o,!l.loaded){o&&(n.extensions_[di(t,ai)]=l),!a&&In(t)||(e.addType=xn);try{var c,f;n.currentExtensionId_=t,n.currentExtensionVersion_=s,n.currentExtensionLatest_=o,r(e,e._),l.loaded=!0,null===(c=l.resolve)||void 0===c||c.call(l,l.extension),null==u||null===(f=u.resolve)||void 0===f||f.call(u,l.extension)}catch(t){var h,v;throw l.error=t,null===(h=l.reject)||void 0===h||h.call(l,t),null==u||null===(v=u.reject)||void 0===v||v.call(u,t),t}finally{n.currentExtensionId_=null,n.currentExtensionVersion_=null,n.currentExtensionLatest_=null}}};a?c(Mn(i)):Promise.resolve(c(i)).then((function(){l&&c(Mn(i))}))}},{key:"waitForExtension",value:function(t,n){var e=this.waitFor_(this.getExtensionHolder_(t,n));return ki.timerFor(this.win).timeoutPromise(16e3,e).catch((function(n){if(!n.message.includes("timeout"))throw n;return ne().error(ui,"Waited over 16s to load extension ".concat(t,".")),e}))}},{key:"preloadExtension",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si,e=this.getExtensionHolder_(t,n);return this.insertExtensionScriptIfNeeded_(t,n,e),this.waitFor_(e)}},{key:"installExtensionForDoc",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;if(ci.includes(t))return s();var i=self.document,r=i[li];return r||(r=i[li]=m()),r[t]?r[t]:(hi(t,e),ri(self,t),r[t]=this.preloadExtension(t,e).then((function(){return n.installExtensionInDoc(t,e)})))}},{key:"addElement",value:function(t,n,e){var i=this,r=function(t){return i.getCurrentExtensionHolder_(t).extension.elements[t]={implementationClass:n,css:e},Promise.resolve(i.addDocFactory((function(){i.installElement_(t,n,e)})))};if(Rn(t,self.SPZ.addType)){var o=Mn(t);return self.SPZ.addType="",e=function(t){try{var n;return null==t||null===(n=t.replace(Tn,An))||void 0===n?void 0:n.replace(Cn,(function(t){return t.replace(_n,An)}))}catch(n){return t}}(e),void r(o)}r(t)}},{key:"installElement_",value:function(t,n,e){var i=this;e?Wn(e,(function(){i.registerElementInWindow_(self,t,n)}),!1,t):this.registerElementInWindow_(self,t,n)}},{key:"registerElementInWindow_",value:function(t,n,e){(function(t,n,e){!function(t,n,e){var i=ni(t);if(i[n]){if(i[n]!=e){q(i[n]==Ti,"%s is already registered. The script tag for %s is likely included twice in the page.",n,n),i[n]=e;for(var r=0;r<Xe.length;r++){var o=Xe[r];o.tagName.toLowerCase()==n&&o.ownerDocument.defaultView==t&&(ei(o,e),Xe.splice(r--,1))}}}else oi(t,n,e)}(t,n,e)})(t,n,e),ee(t,n,pi)}},{key:"addService",value:function(t,n){this.getCurrentExtensionHolder_(t).extension.services.push({serviceName:t,serviceClass:n}),this.addDocFactory((function(){ie(t,n,!0)}))}},{key:"addDocFactory",value:function(t,n){var e=this.getCurrentExtensionHolder_(n);if(e.docFactories.push(t),this.currentExtensionId_){var i=Q(this.currentExtensionId_),r=Q(this.currentExtensionVersion_),o=this.currentExtensionLatest_||!1;(vi(i,r)||o&&vi(i,ai)||e.auto)&&t()}}},{key:"installExtensionInDoc",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;return hi(t,e),this.waitFor_(this.getExtensionHolder_(t,e)).then((function(){n.getExtensionHolder_(t,e).docFactories.forEach((function(n){try{n()}catch(n){O("Doc factory failed: ",n,t)}}))}))}},{key:"getExtensionHolder_",value:function(t,n,e){var i=di(t,n),r=this.extensions_[i];return r||(r={version:n,latest:n==ai,extension:{elements:{},services:[]},auto:e||!1,docFactories:[],promise:void 0,resolve:void 0,reject:void 0,loaded:void 0,error:void 0,scriptPresent:void 0},this.extensions_[i]=r),r}},{key:"getCurrentExtensionHolder_",value:function(t){return this.currentExtensionId_||Nn(this.win).test||ne().error(ui,"unknown extension for ",t),this.getExtensionHolder_(this.currentExtensionId_||"_UNKNOWN_",this.currentExtensionVersion_||"")}},{key:"waitFor_",value:function(t){if(!t.promise)if(t.loaded)t.promise=Promise.resolve(t.extension);else if(t.error)t.promise=Promise.reject(t.error);else{var n=new a;t.promise=n.promise,t.resolve=n.resolve,t.reject=n.reject}return t.promise}},{key:"insertExtensionScriptIfNeeded_",value:function(t,n,e){if(this.isExtensionScriptRequired_(t,n,e)){var i=Gn(this.win,t,n);this.win.document.head.appendChild(i),e.scriptPresent=!0}}},{key:"isExtensionScriptRequired_",value:function(t,n,e){if(e.loaded||e.error||t.includes("spz-custom"))return!1;if(void 0===e.scriptPresent){var i=function(t,n,e,i){for(var r=":not([i-spzhtml-loaded-new-version])"+(arguments.length>4&&void 0!==arguments[4]&&!arguments[4]?":not([i-spzhtml-inserted])":""),o=t.document.head.querySelectorAll('script[src*="/'.concat(n,'-"]').concat(r)),u=[],s=0;s<o.length;s++){var a=o[s],l=Hn(a.src);if(l){var c=l.extensionId,f=l.extensionVersion;c==n&&(f==e||f==Un&&i)&&u.push(a)}}return u}(this.win,t,n,e.latest);e.scriptPresent=i.length>0}return!e.scriptPresent}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function pi(){return{}}function di(t,n){return"".concat(t,":").concat(n)}function mi(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var bi,ki=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e;return n=t,(e=[{key:"actionServiceForDoc",value:function(){return ue("action")}},{key:"templatesForDoc",value:function(){return ue("templates")}},{key:"extensionsFor",value:function(t){return re(t,"extensions")}},{key:"mutatorForDoc",value:function(){return oe("mutator")}},{key:"platformFor",value:function(t){return re(t,"platform")}},{key:"timerFor",value:function(t){return function(t,n){return le(t,"timer")}(t)}},{key:"urlForDoc",value:function(){return ue("url")}},{key:"viewerForDoc",value:function(){return oe("viewer")}},{key:"viewerPromiseForDoc",value:function(){return se("viewer")}},{key:"vsyncFor",value:function(t){return re(t,"vsync")}},{key:"viewportForDoc",value:function(){return oe("viewport")}},{key:"xhrFor",value:function(t){return re(t,"xhr")}},{key:"batchedXhrFor",value:function(t){return re(t,"batched-xhr")}},{key:"scriptForDocOrNull",value:function(t){return"spz-script",(n=ue("spz-script"))?Promise.resolve(n):function(t,n,e,i){var r=function(t){return fe(self,t)}(n);if(r)return r;var o=fi(e);return o?re(self,"extensions").waitForExtension(e,o).then((function(t){return t?se(n):null})):null}(0,"spz-script","spz-script");var n}},{key:"localeFor",value:function(t){return re(t,"spz-locale")}}])&&mi(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function wi(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function gi(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?wi(Object(e),!0).forEach((function(n){zi(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):wi(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function zi(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ji(t,n,e,i){var r=t,o=e,u=function(t){try{return o(t)}catch(t){var n,e;throw null===(n=(e=self).__SPZ_REPORT_ERROR)||void 0===n||n.call(e,t),t}},s=function(){if(void 0!==bi)return bi;bi=!1;try{var t={get capture(){bi=!0}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return bi}(),a=!(null==i||!i.capture);return r.addEventListener(n,u,s?i:a),function(){var t;null===(t=r)||void 0===t||t.removeEventListener(n,u,s?i:a),o=null,r=null,u=null}}function Si(t,n,e,i){var r={detail:e};if(Object.assign(r,i),"function"==typeof t.CustomEvent)return new t.CustomEvent(n,r);var o=t.document.createEvent("CustomEvent");return o.initCustomEvent(n,!!r.bubbles,!!r.cancelable,e),o}function Oi(t,n,e,i){return ji(t,n,e,i)}function Ei(t){return t.data}function xi(t,n,e,i){var r=e,o=ji(t,n,(function(t){try{r(t)}finally{r=null,o()}}),i);return o}function _i(t){return"AUDIO"===t.tagName||"VIDEO"===t.tagName}function Ai(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ti=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,this.win=n.ownerDocument.defaultView,this.actionMap_=null,this.defaultActionAlias_=null}var n,e,i;return n=t,i=[{key:"deferredMount",value:function(t){return!0}},{key:"prerenderAllowed",value:function(t){return!1}},{key:"usesLoading",value:function(t){return!1}},{key:"createLoaderLogoCallback",value:function(t){return{}}},{key:"getBuildPriority",value:function(t){return mn.CONTENT}}],(e=[{key:"signals",value:function(){return this.element.signals()}},{key:"getDefaultActionAlias",value:function(){return this.defaultActionAlias_}},{key:"getLayout",value:function(){return this.element.getLayout()}},{key:"getWin",value:function(){return this.win}},{key:"getVsync",value:function(){return ki.vsyncFor(this.win)}},{key:"isLayoutSupported",value:function(t){return t==dn.NODISPLAY}},{key:"upgradeCallback",value:function(){return null}},{key:"buildCallback",value:function(){}},{key:"attachedCallback",value:function(){}},{key:"detachedCallback",value:function(){}},{key:"setAsContainer",value:function(t){this.element.setAsContainerInternal(t)}},{key:"removeAsContainer",value:function(){this.element.removeAsContainerInternal()}},{key:"isBuildRenderBlocking",value:function(){return!1}},{key:"createPlaceholderCallback",value:function(){return null}},{key:"ensureLoaded",value:function(){}},{key:"setReadyState",value:function(t,n){this.element.setReadyStateInternal(t,n)}},{key:"mountCallback",value:function(t){}},{key:"unmountCallback",value:function(){}},{key:"firstLayoutCompleted",value:function(){this.togglePlaceholder(!1)}},{key:"reconstructWhenReparented",value:function(){return!0}},{key:"loadPromise",value:function(t){return function(t){var n,e;if(function(t){return!!(t.complete||"complete"==t.readyState||_i(t)&&t.readyState>0||t.document&&"complete"==t.document.readyState)}(t))return Promise.resolve(t);var i=_i(t);return i&&t.__SPZ_MEDIA_LOAD_FAILURE_SRC===t.currentSrc?Promise.reject(t):new Promise((function(r,o){if(n=i?xi(t,"loadedmetadata",r,{capture:!0}):xi(t,"load",r),t.tagName){var u=t;if(i&&!t.hasAttribute("src")&&!(u=At(t,(function(t){return"SOURCE"===t.tagName}))))return o(new Error("Media has no source."));e=xi(u,"error",o)}})).then((function(){return e&&e(),t}),(function(){n&&n(),function(t){_i(t)&&(t.__SPZ_MEDIA_LOAD_FAILURE_SRC=t.currentSrc||!0);var n=t;throw n&&n.src&&(n=n.src),new Error("Failed to load:")}(t)}))}(t)}},{key:"registerAction",value:function(t,n){Ci(this),this.actionMap_[t]={handler:n}}},{key:"registerDefaultAction",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"activate";q(!this.defaultActionAlias_,'Default action "%s" already registered.',this.defaultActionAlias_),this.registerAction(n,t),this.defaultActionAlias_=n}},{key:"executeAction",value:function(t,n){var e=t.method;"activate"===e&&(e=this.defaultActionAlias_||e),Ci(this);var i=this.actionMap_[e],r=this.element.tagName;return q(i,"Method not found: ".concat(e," in ").concat(r)),(0,i.handler)(t)}},{key:"propagateAttributes",value:function(t,n,e){t=N(t)?t:[t];for(var i=0;i<t.length;i++){var r=t[i],o=this.element.getAttribute(r);null!==o?n.setAttribute(r,o):e&&n.removeAttribute(r)}}},{key:"forwardEvents",value:function(t,n){var e=this,i=(N(t)?t:[t]).map((function(t){return Oi(n,t,(function(n){Gt(e.element,t,Ei(n)||{})}))}));return function(){return i.forEach((function(t){return t()}))}}},{key:"getPlaceholder",value:function(){return this.element.getPlaceholder()}},{key:"togglePlaceholder",value:function(t){this.element.togglePlaceholder(t)}},{key:"renderStarted",value:function(){this.element.renderStarted()}},{key:"getRealChildNodes",value:function(){return this.element.getRealChildNodes()}},{key:"getRealChildren",value:function(){return this.element.getRealChildren()}},{key:"applyFillContent",value:function(t,n){t.classList.add("i-spzhtml-fill-content"),n&&t.classList.add("i-spzhtml-replaced-content")}},{key:"getViewport",value:function(){return ki.viewportForDoc()}},{key:"mutateElement",value:function(t,n){return this.measureMutateElement(null,t,n)}},{key:"measureMutateElement",value:function(t,n,e){return ki.mutatorForDoc().measureMutateElement(e||this.element,t,n)}},{key:"mutatedAttributesCallback",value:function(t){}},{key:"logger",value:function(){return ne(this.element)}},{key:"assert",value:function(){return q.apply(this,arguments)}},{key:"assertElement",value:function(){return J.apply(this,arguments)}},{key:"getApi",value:function(){return this}},{key:"getData",value:function(){return s()}},{key:"showToast",value:function(t){var n,e,i=this;"string"==typeof t?n=t:(n=t.text,e=t.duration),SPZServices.extensionsFor(this.win).installExtensionForDoc("spz-toast").then((function(){var t=i.win.document.getElementsByClassName("i-spzhtml-toast-global");if(t.length)t[0].showToast(n,e);else{var r=i.win.document.createElement("spz-toast");r.setAttribute("layout","nodisplay"),r.classList.add("i-spzhtml-toast-global"),self.document.body.appendChild(r),r.showToast(n,e)}}))}},{key:"show",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.parent,i=void 0===e?this.element:e,r=n.type,o=void 0===r?"loading":r,u=this.element.hasAttribute("has-loading"),a=this.element.hasAttribute("has-mask");o=u?"loading":a?"mask":o;var l=function(n){return t.win.document.activeElement&&t.win.document.activeElement.blur(),SPZCore.Dom.toggle(n,!0),n},c=function(){var t=Array.prototype.find.call(i.children,(function(t){return t.getAttribute("role")===o}));if(t)return Promise.resolve(l(t))};if(!u&&!a)return s();var f=c();return f||SPZServices.extensionsFor(this.win).installExtensionForDoc("spz-loading").then((function(){var n=c();return n||((n=t.win.document.createElement("spz-loading")).setAttribute("layout","container"),n.setAttribute("role",o),"mask"===o&&n.setAttribute("has-mask",""),i.appendChild(n),l(n))}))}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parent,e=void 0===n?this.element:n,i=t.type,r=void 0===i?"loading":i,o=this.element.hasAttribute("has-loading"),u=this.element.hasAttribute("has-mask");if(r=o?"loading":u?"mask":r,!o&&!u)return s();var a=Array.prototype.find.call(e.children,(function(t){return t.getAttribute("role")===r}));a&&SPZCore.Dom.toggle(a,!1)}}])&&Ai(n.prototype,e),i&&Ai(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Ci(t){t.actionMap_||(t.actionMap_=t.win.Object.create(null))}function Pi(t){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ii(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var Ri="Action",Mi="__SPZ_ACTION_MAP__"+Math.random(),Di="__SPZ_ACTION_QUEUE__",Fi="__SPZ_ACTION_HANDLER__",Li={"form":["submit","clear","insert","init","focus","check","togglePasswordVisibility"]},Ni={"button":!0,"checkbox":!0,"link":!0,"listbox":!0,"menuitem":!0,"menuitemcheckbox":!0,"menuitemradio":!0,"option":!0,"radio":!0,"scrollbar":!0,"slider":!0,"spinbutton":!0,"switch":!0,"tab":!0,"treeitem":!0},Ui=["tap","submit","change","input-debounced","input-throttled","valid","invalid"],Zi=/\(([^)]+)\)/,Bi=new RegExp(/^event(\.[a-zA-Z_][\w]*)+$/),Vi="eventChange",Hi=function t(n,e,i,r,o,u){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"?",a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Math.random();Ii(this,t),this.node=n,this.method=e,this.args=i,this.source=r,this.caller=o,this.event=u,this.actionEventType=s,this.tagOrTarget=a||n.tagName,this.sequenceId=l},Gi=function(){function t(){var n=this;Ii(this,t),this.root_=self.document,this.globalTargets_=m(),this.globalMethodHandlers_=m(),Ui.forEach((function(t){return n.addEvent(t)}))}var n,e;return n=t,(e=[{key:"addEvent",value:function(t){var n=this;if("tap"==t)this.root_.addEventListener("click",(function(e){if(!e.defaultPrevented){var i=J(e.target);n.trigger(i,t,e)}})),this.root_.addEventListener("keydown",(function(e){var i=e.key,r=J(e.target);if("Enter"==i||" "==i){var o=r.getAttribute("role"),u=o&&k(Ni,o.toLowerCase());!e.defaultPrevented&&u&&n.trigger(r,t,e)&&e.preventDefault()}}));else if("submit"==t)this.root_.addEventListener(t,(function(e){var i=J(e.target);n.trigger(i,t,e)}));else if("change"==t)this.root_.addEventListener(t,(function(e){var i=J(e.target);n.addTargetPropertiesAsDetail_(e),n.trigger(i,t,e)}));else if("input-debounced"==t){var e=H(self,(function(e){var i=J(e.target);n.trigger(i,t,e)}),300);this.root_.addEventListener("input",(function(t){var i=new Wi(t);n.addTargetPropertiesAsDetail_(i),e(i)}))}else if("input-throttled"==t){var i=V(self,(function(e){var i=J(e.target);n.trigger(i,t,e)}),100);this.root_.addEventListener("input",(function(t){var e=new Wi(t);n.addTargetPropertiesAsDetail_(e),i(e)}))}else"valid"!=t&&"invalid"!=t||this.root_.addEventListener(t,(function(e){var i=J(e.target);n.trigger(i,t,e)}))}},{key:"addGlobalTarget",value:function(t,n){this.globalTargets_[t]=n}},{key:"addGlobalMethodHandler",value:function(t,n){this.globalMethodHandlers_[t]={handler:n}}},{key:"trigger",value:function(t,n,e,i){return this.action_(t,n,e,i)}},{key:"execute",value:function(t,n,e,i,r,o){var u=new Hi(t,n,e,i,r,o);this.invoke_(u)}},{key:"installActionHandler",value:function(t,n){var e=t.getAttribute("id")||"";if(q($i(e)||t.tagName.toLowerCase()in Li,"SPZ or special element expected: %s",t.tagName+"#"+e),t[Fi])ne().error(Ri,"Action handler already installed for ".concat(t));else{t[Fi]=n;var i=t[Di];N(i)&&ki.timerFor(t.ownerDocument.defaultView).delay((function(){i.forEach((function(t){try{n(t)}catch(n){ne().error(Ri,"Action execution failed:",t,n)}})),t[Di].length=0}),1)}}},{key:"hasAction",value:function(t,n,e){return!!this.findAction_(t,n,e)}},{key:"hasResolvableAction",value:function(t,n,e){var i=this,r=this.findAction_(t,n,e);return!!r&&r.actionInfos.some((function(t){var n=t.target;return!!i.getActionNode_(n)}))}},{key:"hasResolvableActionForTarget",value:function(t,n,e,i){var r=this,o=this.findAction_(t,n,i);return!!o&&o.actionInfos.some((function(t){var n=t.target;return r.getActionNode_(n)==e}))}},{key:"getActionNode_",value:function(t){return this.globalTargets_[t]?this.root_:this.root_.getElementById(t)}},{key:"action_",value:function(t,n,e,i){var r=this,o=null;!1===(null==i?void 0:i.bubbles)&&(o=t.parentElement);var u=this.findAction_(t,n,o);if(!u||!N(null==u?void 0:u.actionInfos))return!1;var s=Math.random(),a=null;return u.actionInfos.forEach((function(o){var l=o.args,c=o.method,f=o.target,h=function(t,n,e){if(!t)return t;var i=e||b({});if(n){var r=function(t){return t.detail}(n);r&&(i.event=r)}var o=m();return Object.keys(t).forEach((function(n){var e=t[n];if("object"==Pi(e)&&e.expression){var r=e.expression,u=w(i,r);e=void 0===u?null:u}i[e]?o[n]=i[e]:o[n]=e})),o}(l,e,i),v=function(){var i=r.getActionNode_(f),o=function(){var o=new Hi(i,c,h,t,u.node,e,n,i.tagName||f,s);return r.invoke_(o)};if(i)return o();Dt(self.document.body,(function(){return!!self.document.getElementById(f)}),(function(){i=r.getActionNode_(f),o()}))};a=a?a.then(v):v()})),u.actionInfos.length>=1}},{key:"error_",value:function(t,n){if(n){var e=new Error("[".concat(Ri,"] ").concat(t));throw Ce(e),e}ne().error(Ri,t)}},{key:"invoke_",value:function(t){var n=this,e=t.method,i=t.tagOrTarget,r=this.globalTargets_[i];if(r)return r(t);var o=J(t.node),u=this.globalMethodHandlers_[e];if(u)return u.handler(t);var s=o.tagName.toLowerCase();if($i(s))return self.SPZ.whenDefined(o).then((function(){o.enqueAction(t)}),(function(){n.error_('Unrecognized SPZ element "'.concat(s,'".'),o)})),null;var a=Li[s];if($i(o.getAttribute("id")||"")||a&&a.indexOf(e)>-1){var l=o[Fi];return l?l(t):(o[Di]=o[Di]||[],o[Di].push(t)),null}return this.error_("Target (".concat(i,") doesn't support \"").concat(e,'" action.'),t.caller),null}},{key:"findAction_",value:function(t,n,e){for(var i,r=t;r;){if(e&&r==e)return null;var o=this.matchActionInfos_(r,n);if(o&&!(i=r).disabled&&!Et(i,":disabled"))return{node:r,actionInfos:q(o)};r=r.parentElement}return null}},{key:"matchActionInfos_",value:function(t,n){return this.geActionMap_(t,n)}},{key:"geActionMap_",value:function(t,n){var e,i,r,o="@".concat(n),u="on:".concat(n),s=t[Mi]||{},a=t.hasAttribute(Vi),l=t.hasAttribute(u);if(!s[o]&&!s[u]||a){if(!t.hasAttribute(o)&&!t.hasAttribute(u))return null;var c=null;l?(c=t.getAttribute(u),t.removeAttribute(Vi)):c=t.getAttribute(o);var f=function(t){var n=t.split(";").filter((function(t){return t&&t.includes(".")}));return null==n?void 0:n.map((function(t){var n=t.indexOf("."),e=t.substring(n+1,t.length),i=e.includes("(")?e.indexOf("("):e.length;return{target:t.substring(0,n),method:e.substring(0,i),args:Ji(e)}}))}(c);t[Mi]=(r=f,(i=l?u:o)in(e={})?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r,e)}return t[Mi][l?u:o]}},{key:"addTargetPropertiesAsDetail_",value:function(t){var n=m(),e=t.target;if(void 0!==e.value&&(n.value=e.value,/^[{\[][\s\S]*[}\]]$/.test(e.value)&&(n.valueAsJson=function(t,n){try{return K(t)}catch(t){return null}}(e.value))),"INPUT"==e.tagName&&(n.valueAsNumber=Number(e.value)),void 0!==e.checked&&(n.checked=e.checked),void 0===e.min&&void 0===e.max||(n.min=e.min,n.max=e.max),e.files&&(n.files=L(e.files).map((function(t){return{"name":t.name,"size":t.size,"type":t.type}}))),Object.keys(n).length>0)try{t.detail=n}catch(t){}}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function $i(t){var n=t.substring(0,4);return["spz-","ljs-"].includes(n)}var Wi=function t(n){Ii(this,t),this.detail=null,function(t,n){var e=n||m();for(var i in t){var r=t[i];e[i]="function"==typeof r?qi:t[i]}}(n,this)};function qi(){q(null,"Deferred events cannot access native event functions.")}function Ji(t){var n=Zi.exec(t),e={};if(!n)return e;var i=n[1].split(/(?:\b|['"])\s*,\s*(?=\w+=)/g);return null==i||i.forEach((function(t){var n=t.trim().split("="),i=n[0],r=n[1];if(e[i]=null,Bi.test(r))e[i]={expression:r};else try{e[i]=JSON.parse(r)}catch(t){e[i]=r.replace(/\'/g,"")}})),e}var Qi=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function Xi(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function Yi(t){var n,e=m();if(!t)return e;for(;n=Qi.exec(t);){var i=Xi(n[1],n[1]),r=n[2]?Xi(n[2].replace(/\+/g," "),n[2]):"";e[i]?e[i]+=","+r:e[i]=r}return e}var Ki=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.capacity_=n,this.size_=0,this.access_=0,this.cache_=m()}var n,e;return n=t,(e=[{key:"has",value:function(t){return!!this.cache_[t]}},{key:"get",value:function(t){var n=this.cache_[t];if(n)return n.access=++this.access_,n.payload}},{key:"put",value:function(t,n){this.has(t)||this.size_++,this.cache_[t]={payload:n,access:this.access_},this.evict_()}},{key:"evict_",value:function(){if(!(this.size_<=this.capacity_)){var t,n=this.cache_,e=this.access_+1;for(var i in n){var r=n[i].access;r<e&&(e=r,t=i)}void 0!==t&&(delete n[t],this.size_--)}}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function tr(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var nr,er,ir,rr,or,ur,sr,ar,lr,cr=self.SPZ_CONFIG||{},fr=/spz.min|spz.js|v0.js$/,hr=/(\S*(?:cuttlefish|dist))(\S*)\/(?:spz.min|spz|v0)\.js/,vr={cdnProxyRegex:("string"==typeof cr.cdnProxyRegex?new RegExp(cr.cdnProxyRegex):cr.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/},yr={url:(ir=(null===(nr=Array.prototype.filter.call(self.document.querySelectorAll("script[src]"),(function(t){var n=t.src;return fr.test(n)})))||void 0===nr?void 0:nr.map((function(t){var n;return null==t||null===(n=t.src)||void 0===n?void 0:n.split(hr)})))||[],lr=ir.length>1&&null!==(er=ir[0][2])&&void 0!==er&&er.includes("v1")?ir[1]:ir[0],3,rr=function(t){if(Array.isArray(t))return t}(lr)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,r,o=[],u=!0,s=!1;try{for(e=e.call(t);!(u=(i=e.next()).done)&&(o.push(i.value),3!==o.length);u=!0);}catch(t){s=!0,r=t}finally{try{u||null==e.return||e.return()}finally{if(s)throw r}}return o}}(lr)||function(t,n){if(t){if("string"==typeof t)return tr(t,3);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?tr(t,3):void 0}}(lr)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),or=rr[1],ur=rr[2],{cdn:cr.cdnUrl||or,spzVersion:(null==ur?void 0:ur.slice(1))||""})},pr=b({"c":!0,"v":!0,"a":!0,"ad":!0}),dr=/[?&]spz_js[^&]*/,mr=/[?&]spz_gsa[^&]*/,br=/[?&]spz_r[^&]*/,kr=/[?&]spz_kit[^&]*/,wr=/[?&]usqp[^&]*/,gr=["javascript:","data:","vbscript:"];function zr(t,n){return sr||(sr=self.document.createElement("a"),ar=self.__SPZ_URL_CACHE||(self.__SPZ_URL_CACHE=new Ki(100))),jr(sr,t,n?null:ar)}function jr(t,n,e){if(e&&e.has(n))return e.get(n);t.href=n,t.protocol||(t.href=t.href);var i,r={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};return"/"!==r.pathname[0]&&(r.pathname="/"+r.pathname),("http:"==r.protocol&&80==r.port||"https:"==r.protocol&&443==r.port)&&(r.port="",r.host=r.hostname),i=t.origin&&"null"!=t.origin?t.origin:"data:"!=r.protocol&&r.host?r.protocol+"//"+r.host:r.href,r.origin=i,e&&e.put(n,r),r}function Sr(t,n){return function(t,n,e){if(!n)return t;var i=t.split("#",2),r=i[0].split("?",2);return r[0]+(r[1]?"?".concat(r[1],"&").concat(n):"?".concat(n))+(i[1]?"#".concat(i[1]):"")}(t,Er(n))}function Or(t,n){for(var e=zr(t),i=e.origin,r=e.pathname,o=Yi(e.search),u=Object.keys(n),s=0;s<u.length;s++)o[u[s]]=n[u[s]];return Sr((i&&i!==self.location.origin?i:"")+r,o)}function Er(t){var n=[];for(var e in t){var i=t[e];if(null!=i)if(N(i))for(var r=0;r<i.length;r++){var o=i[r];n.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(o)))}else{var u=i;n.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(u)))}}return n.join("&")}function xr(t){return"string"==typeof t&&(t=zr(t)),"https:"==t.protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||(e=".localhost",(i=(n=t.hostname).length-e.length)>=0&&n.indexOf(e,i)==i);var n,e,i}function _r(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";q(null!=t,"%s %s must be available",n,e);var i=t;return q(xr(i)||/^(\/\/)/.test(i),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,e,i),i}function Ar(t){var n=t.indexOf("#");return-1==n?t:t.substring(0,n)}function Tr(t){return"string"==typeof t&&(t=zr(t)),vr.cdnProxyRegex.test(t.origin)}function Cr(t){if("string"==typeof t&&(t=zr(t)),!Tr(t))return t.href;var n=t.pathname.split("/"),e=n[1];q(pr[e],"Unknown path prefix in url %s",t.href);var i=n[2],r="s"==i?"https://"+decodeURIComponent(n[3]):"http://"+decodeURIComponent(i);return q(r.indexOf(".")>0,"Expected a . in origin %s",r),n.splice(1,"s"==i?3:2),r+n.join("/")+function(t){if(!t||"?"==t)return"";var n=t.replace(dr,"").replace(mr,"").replace(br,"").replace(kr,"").replace(wr,"").replace(/^[?&]/,"");return n?"?"+n:""}(t.search)+(t.hash||"")}function Pr(t){return zr(Cr(t)).origin}function Ir(t,n){return"string"==typeof n&&(n=zr(n)),"function"==typeof URL?new URL(t,n.href).toString():function(t,n){"string"==typeof n&&(n=zr(n));var e=zr(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(e.protocol)?e.href:t.startsWith("//")?n.protocol+t:t.startsWith("/")?n.origin+t:n.origin+n.pathname.replace(/\/[^/]*$/,"/")+t}(t,n)}var Rr=["GET","POST","DELETE","PATCH","PUT"],Mr=[N,p];function Dr(t,n){return q("string"==typeof n,"Only URL supported: %s",n),n}function Fr(t,n){var e,i=t||{},r=i.credentials;q(void 0===r||"include"==r||"omit"==r,"Only credentials=include|omit support: %s",r),i.method=void 0===(e=i.method)?"GET":(e=e.toUpperCase(),q(Rr.includes(e),"Only one of %s is currently allowed. Got %s",Rr.join(", "),e),e),i.headers=i.headers||b({}),n&&(i.headers.Accept=n);var o=function(t,n){var e=function(t){try{return t.document.cookie}catch(t){return""}}(self);if(!e)return null;for(var i=e.split(";"),r=0;r<i.length;r++){var o=i[r].trim(),u=o.indexOf("=");if(-1!=u&&"CSRF-TOKEN"==Xi(o.substring(0,u).trim())){var s=o.substring(u+1).trim();return Xi(s,s)}}return null}();return o&&!k(i,"X-CSRF-Token")&&(i.headers["X-CSRF-Token"]=o),q(null!==i.body,"fetch `body` can not be `null`"),i}var Lr=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.fetchPromises_=m()}var n,e;return n=t,(e=[{key:"fetch_",value:function(t,n){return this.win.fetch.apply(null,arguments)}},{key:"fetchHandler_",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Dr(this.win,t),this.fetch_(t,n).then((function(t){return t}),(function(t){throw new Error("XHR","Failed fetching (".concat(t&&t.message,"/...):"))}))}},{key:"fetchJson",value:function(t,n){return this.fetch(t,function(t){var n=Fr(t,"application/json");if(["POST","PATCH","DELETE","PUT"].includes(n.method)){q(Mr.some((function(t){return t(n.body)})),"body must be of type object or array. %s",n.body),n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json;charset=utf-8";var e=n.headers["Content-Type"];n.body="application/x-www-form-urlencoded"===e?Er(n.body):JSON.stringify(n.body)}return n}(n)).then((function(t){try{return t.json()}catch(n){return t}}),(function(t){throw t.json()}))}},{key:"fetchText",value:function(t,n){return this.fetch(t,Fr(n,"text/plain"))}},{key:"setFetchParam_",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.headers,e=void 0===n?{}:n,i=t.method,r=void 0===i?"":i;this.responseType_=e.Accept||"",this.isBatchAble_=!r||"GET"===r}},{key:"getCacheFetch_",value:function(t){var n=this.getMapKey_(t),e=!!this.fetchPromises_[n];if(this.isBatchAble_&&e)return this.fetchPromises_[n].then((function(t){return t.clone()}))}},{key:"setCacheFetch_",value:function(t,n){var e=this,i=this.getMapKey_(t);this.fetchPromises_[i]=n.then((function(t){return delete e.fetchPromises_[i],t.clone()}),(function(t){throw delete e.fetchPromises_[i],t}))}},{key:"fetch",value:function(t,n){this.setFetchParam_(n);var e=this.getCacheFetch_(t);if(e)return e;var i=this.request_(t,n);return this.isBatchAble_&&this.setCacheFetch_(t,i),i}},{key:"request_",value:function(t,n){var e=Fr(n);return this.fetchHandler_(t,e).then((function(t){return function(t){return new Promise((function(n,e){return t&&t.ok?t.redirected&&t.url?void(location.href=t.url):n(t):e(t)}))}(t)}))}},{key:"getMapKey_",value:function(t){return Ar(Ir(t,Pr(this.win.location)))+this.responseType_}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Nr(t){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t,n){return(Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Zr(t,n){if(n&&("object"===Nr(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vr=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ur(t,n)}(u,t);var n,e,i,r,o=(i=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Br(i);if(r){var e=Br(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return Zr(this,t)});function u(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),o.call(this,t)}return n=u,(e=[{key:"batchFetchJsonFor",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.url,i=void 0===e?t.getAttribute("src"):e;return this.fetchJson(Q(i),n).then((function(n){return w(n,t.getAttribute("items")||".")})).catch((function(t){throw t}))}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),u}(Lr);function Hr(t){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gr(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $r(t,n){return($r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Wr(t,n){if(n&&("object"===Hr(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qr(t){return(qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jr="spz-img",Qr=["alt","aria-describedby","aria-label","aria-labelledby","crossorigin","referrerpolicy","title","sizes","srcset","src"],Xr=[48,180,420,540,720,900,1024,1280,1366,1440,1536,1600,1920,2056,2560,2732,2880,3072,3200,3840],Yr=/^_\d{1,}x$/gi,Kr=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&$r(t,n)}(s,t);var n,e,i,r,o,u=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=qr(r);if(o){var e=qr(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return Wr(this,t)});function s(t){var n;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,s),(n=u.call(this,t)).allowImgLoadFallback_=!0,n.src_=void 0,n.img_=null,n.autoFitSize_=330,n.autoFit_=!1,n}return n=s,i=[{key:"prerenderAllowed",value:function(){return!0}},{key:"usesLoading",value:function(){return!0}}],(e=[{key:"isLayoutSupported",value:function(t){return SPZCore.isLayoutSizeDefined(t)}},{key:"setSrc",value:function(){this.initialize_()}},{key:"initialize_",value:function(){if(this.img_)return this.img_;this.attemptChangeSizeFitSrc_(),this.allowImgLoadFallback_=!this.element.hasAttribute("fallback");var t=this.element.hasAttribute("i-spzhtml-ssr");return t&&(this.img_=St(this.element,"> img:not([placeholder])")),this.img_=this.img_||new Image,this.img_.setAttribute("decoding","async"),this.element.id&&this.img_.setAttribute("spz-img-id",this.element.id),"img"==this.element.getAttribute("role")&&(this.element.removeAttribute("role"),this.logger().error(Jr,"Setting role=img on spz-img elements breaks screen readers please just set alt or ARIA attributes, they will be correctly propagated for the underlying <img> element.")),this.fillImgStyle_(),t||this.element.appendChild(this.img_),this.img_}},{key:"attemptChangeSizeFitSrc_",value:function(){if(!this.src_&&(this.src_=this.element.getAttribute("src"),this.src_)){var t=this.src_.lastIndexOf(".");t>-1&&(this.initFitSize_(),this.isAddAutoFit_()&&(this.src_="".concat(this.src_.substring(0,t),"_").concat(this.autoFitSize_,"x").concat(this.src_.substring(t)),this.element.setAttribute("src",this.src_)))}}},{key:"isAddAutoFit_",value:function(){var t=this.src_.lastIndexOf("_"),n=this.src_.lastIndexOf(".");if(t<0)return this.autoFit_&&this.autoFitSize_;var e=this.src_.substring(t,n);return!Yr.test(e)&&this.autoFit_&&this.autoFitSize_}},{key:"initFitSize_",value:function(){var t=this;if(this.autoFit_=this.element.hasAttribute("auto-fit"),this.autoFit_){var n=this.element.getAttribute("auto-fit");this.autoFitSize_=n?parseInt(n||0,10)||330:Xr.filter((function(n){return n>((window.devicePixelRatio||1)+1)/2*Math.max(t.element.offsetWidth,t.element.clientWidth||0,t.element.offsetHeight,t.element.clientHeight||0)}))[0]}}},{key:"reconstructWhenReparented",value:function(){return!1}},{key:"mountCallback",value:function(){var t=this,n=!!this.img_,e=this.getImgElement_();n||(Oi(e,"load",(function(){t.setReadyState(Oe),t.firstLayoutCompleted(),t.hideFallbackImg_(),t.triggerEvent_()})),Oi(e,"error",(function(n){t.setReadyState(Ee,n),t.onImgLoadingError_()}))),e.complete?(this.setReadyState(Oe),this.firstLayoutCompleted(),this.hideFallbackImg_(),this.triggerEvent_()):this.setReadyState(Se)}},{key:"unmountCallback",value:function(){var t=this.img_;t&&!t.complete&&(t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=",Nt(t),this.img_=null)}},{key:"ensureLoaded",value:function(){J(this.img_).loading="eager"}},{key:"hideFallbackImg_",value:function(){!this.allowImgLoadFallback_&&this.img_.classList.contains("i-spzhtml-ghost")&&this.img_.classList.remove("i-spzhtml-ghost")}},{key:"onImgLoadingError_",value:function(){this.allowImgLoadFallback_&&(this.img_.classList.add("i-spzhtml-ghost"),this.togglePlaceholder(!1),this.allowImgLoadFallback_=!1)}},{key:"triggerEvent_",value:function(){this.element.setAttribute(Oe,""),SPZCore.Dom.dispatchCustomEvent(this.element,Oe)}},{key:"fillImgStyle_",value:function(){var t,n;this.img_.classList.contains("i-spzhtml-fill-content")||(this.propagateAttributes(Qr,this.img_),this.applyFillContent(this.img_,!0),t=this.element,n=this.img_,t.hasAttribute("object-fit")&&ln(n,"object-fit",t.getAttribute("object-fit")),t.hasAttribute("object-position")&&ln(n,"object-position",t.getAttribute("object-position")))}},{key:"getImgElement_",value:function(){var t=this.findChild_(this.element);return t||(t=this.findChild_(this.findChild_(this.element,"PICTURE"))),t?(this.img_=t,this.fillImgStyle_(),this.img_):this.initialize_()}},{key:"findChild_",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IMG";return t?L(t.children).find((function(t){return t.tagName==n})):void 0}}])&&Gr(n.prototype,e),i&&Gr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),s}(Ti);function to(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr;oi(t,n,Kr)}function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eo(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function io(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ro(t,n){return(ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function oo(t,n){if(n&&("object"===no(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function uo(t){return(uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var so=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ro(t,n)}(s,t);var n,e,i,r,o,u=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=uo(r);if(o){var e=uo(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return oo(this,t)});function s(){return eo(this,s),u.apply(this,arguments)}return n=s,i=[{key:"prerenderAllowed",value:function(){return!0}}],(e=[{key:"isLayoutSupported",value:function(t){return t==dn.CONTAINER||wn(t)}},{key:"buildCallback",value:function(){if(this.getLayout()!=dn.CONTAINER){var t=this.win.document.createElement("div");this.applyFillContent(t),this.getRealChildNodes().forEach((function(n){t.appendChild(n)})),this.element.appendChild(t)}}}])&&io(n.prototype,e),i&&io(n,i),Object.defineProperty(n,"prototype",{writable:!1}),s}(Ti);var ao=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e;return n=t,(e=[{key:"i18n",value:function(t){var n,e,i=(null===(n=self.C_SETTINGS||self[atob("U0hPUExBWlpB")])||void 0===n||null===(e=n.routes)||void 0===e?void 0:e.root)||"",r=this.parseKeys_(t),o=r.key,u=r.queryString;return SPZ.i18n&&SPZ.i18n[o]?Promise.resolve(SPZ.i18n[o]):SPZServices.xhrFor(self).fetchJson("".concat(i,"/api/front/themes/languages?").concat(u)).then((function(t){var n=t.data;return SPZ.i18n||(SPZ.i18n={}),SPZ.i18n[o]=n.config,n.config}))}},{key:"parseKeys_",value:function(t){var n="";return t.forEach((function(t){n+="catalogues=".concat(t,"&")})),{queryString:n,key:t.join("&")}}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var lo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=self,this.vsync_=ki.vsyncFor(this.win)}var n,e;return n=t,(e=[{key:"measureElement",value:function(t){return this.vsync_.measurePromise(t)}},{key:"mutateElement",value:function(t,n){return this.measureMutateElementResources_(null,n)}},{key:"measureMutateElement",value:function(t,n,e){return this.measureMutateElementResources_(n,e)}},{key:"measureMutateElementResources_",value:function(t,n){return this.vsync_.runPromise({measure:function(){t&&t()},mutate:function(){n()}})}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var co=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.navigator_=n.navigator,this.win_=n}var n,e;return n=t,(e=[{key:"isAndroid",value:function(){return/Android/i.test(this.navigator_.userAgent)}},{key:"isIos",value:function(){return/iPhone|iPad|iPod/i.test(this.navigator_.userAgent)}},{key:"isSafari",value:function(){return/Safari/i.test(this.navigator_.userAgent)&&!this.isChrome()&&!this.isIe()&&!this.isEdge()&&!this.isFirefox()&&!this.isOpera()}},{key:"isChrome",value:function(){return/Chrome|CriOS/i.test(this.navigator_.userAgent)&&!this.isEdge()&&!this.isOpera()}},{key:"isFirefox",value:function(){return/Firefox|FxiOS/i.test(this.navigator_.userAgent)&&!this.isEdge()}},{key:"isOpera",value:function(){return/OPR\/|Opera|OPiOS/i.test(this.navigator_.userAgent)}},{key:"isIe",value:function(){return/Trident|MSIE|IEMobile/i.test(this.navigator_.userAgent)}},{key:"isEdge",value:function(){return/Edge/i.test(this.navigator_.userAgent)}},{key:"isWebKit",value:function(){return/WebKit/i.test(this.navigator_.userAgent)&&!this.isEdge()}},{key:"isWindows",value:function(){return/Windows/i.test(this.navigator_.userAgent)}},{key:"isStandalone",value:function(){return this.isIos()&&this.navigator_.standalone||this.isChrome()&&this.win_.matchMedia("(display-mode: standalone)").matches}},{key:"isBot",value:function(){return/bot/i.test(this.navigator_.userAgent)}},{key:"getMajorVersion",value:function(){return this.isSafari()?this.isIos()?this.getIosMajorVersion()||0:this.evalMajorVersion_(/\sVersion\/(\d+)/,1):this.isChrome()?this.evalMajorVersion_(/(Chrome|CriOS)\/(\d+)/,2):this.isFirefox()?this.evalMajorVersion_(/(Firefox|FxiOS)\/(\d+)/,2):this.isOpera()?this.evalMajorVersion_(/(OPR|Opera|OPiOS)\/(\d+)/,2):this.isIe()?this.evalMajorVersion_(/MSIE\s(\d+)/,1):this.isEdge()?this.evalMajorVersion_(/Edge\/(\d+)/,1):0}},{key:"evalMajorVersion_",value:function(t,n){if(!this.navigator_.userAgent)return 0;var e=this.navigator_.userAgent.match(t);return!e||n>=e.length?0:parseInt(e[n],10)}},{key:"getIosVersionString",value:function(){if(!this.navigator_.userAgent)return"";if(!this.isIos())return"";var t=this.navigator_.userAgent.match(/OS ([0-9]+[_.][0-9]+([_.][0-9]+)?)\b/);return t?t=t[1].replace(/_/g,"."):""}},{key:"getIosMajorVersion",value:function(){var t=this.getIosVersionString();return""==t?null:Number(t.split(".")[0])}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function fo(t){ee(t,"platform",co)}function ho(t){return t.queryCommandSupported("copy")}var vo=/^i-spzhtml-/,yo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var n=self.document.head;this.mutator_=ki.mutatorForDoc(),this.viewport_=ki.viewportForDoc(),this.installActions_(ki.actionServiceForDoc(n))}var n,e;return n=t,(e=[{key:"installActions_",value:function(t){t.addGlobalTarget("SPZ",this.handleSpzTarget_.bind(this)),t.addGlobalMethodHandler("scrollTo",this.handleScrollTo_.bind(this)),t.addGlobalMethodHandler("focus",this.handleFocus_.bind(this)),t.addGlobalMethodHandler("toggleClass",this.handleToggleClass_.bind(this)),t.addGlobalMethodHandler("show",(function(t){fn(J(t.node),!0)})),t.addGlobalMethodHandler("hide",(function(t){fn(J(t.node),!1)}))}},{key:"handleSpzTarget_",value:function(t){var n=t.args,e=t.method;switch(e){case"copy":return this.handleCopy_(t);case"scrollTo":return q(n.id,"SPZ.scrollTo must provide element ID"),t.node=J(self.document.getElementById(n.id),"scrollTo element ID must exist on page"),this.handleScrollTo_(t);case"replaceUrlState":return q(n&&!d(n),"SPZ.replaceUrlState must provide params"),this.handleReplaceUrlState_(t);case"navigateTo":var i=n.url;return void(self.location.href=i);case"postMessage":var r=n.id,o=n.data;if(!r)return void q(u,"SPZ.postMessage must provide id dom");var u=self.document.getElementById(r);return void u.contentWindow.postMessage(o);default:throw new Error("Unknown SPZ action "+e)}}},{key:"handleReplaceUrlState_",value:function(t){var n=t.args,e=void 0===n?{}:n,i=e.reload,r=void 0!==i&&i;delete e.reload,history.replaceState({},"",Or(self.location.href,e)),r&&location.reload()}},{key:"handleCopy_",value:function(t){var n,e=t.args,i=self,r="copy-error";if("SPZ"===t.tagOrTarget)n=e.text.trim();else{var o,u=t.node;n=(null!==(o=t.node.value)&&void 0!==o?o:u.textContent).trim()}var s,a,l,c=function(t,n,e){var r={data:{type:n}},o=Si(i,"".concat(t),r);SPZServices.actionServiceForDoc(e.caller).trigger(e.caller,t,o)};null!==(a=(s=self.document).defaultView)&&void 0!==a&&null!==(l=a.navigator)&&void 0!==l&&l.clipboard||ho(s)?function(t,n,e,i){var r;null!==(r=t.navigator)&&void 0!==r&&r.clipboard?t.navigator.clipboard.writeText(n).then(e,i):ho(t.document)&&function(t,n){var e,i=!1,r=t.document,o=r.createElement("textarea");cn(o,{"position":"fixed","top":0,"left":0,"width":"50px","height":"50px","padding":0,"border":"none","outline":"none","background":"transparent"}),o.value=n,o.readOnly=!0,o.contentEditable="true",r.body.appendChild(o),null===(e=t.getSelection())||void 0===e||e.removeAllRanges(),o.focus(),o.setSelectionRange(0,n.length);try{i=r.execCommand("copy")}catch(t){}return Nt(o),i}(t,n)?e():i()}(self,n,(function(){c("copy-success","success",t)}),(function(){c(r,"error",t)})):c(r,"unsupported",t)}},{key:"handleScrollTo_",value:function(t){var n=J(t.node),e=t.args,i=e&&e.position,r=e&&e.duration,o=e&&e["target-id"],u=void 0;if(i&&!["top","bottom","center"].includes(i)&&(i=void 0),$(r)||(r=void 0),o){u=q(self.document.getElementById(o),'target-id="%s" not found.',o);var s=hn(self,u).position;"fixed"!==s&&"sticky"!==s&&(u=void 0)}return this.viewport_.animateScrollIntoView(n,{pos:i,durationOrUndef:r,target:u})}},{key:"handleFocus_",value:function(t){return Ht(J(t.node)),null}},{key:"handleToggleClass_",value:function(t,n){var e=J(t.node),i=t.args;return n=Q(n||i.class,"Argument 'class' must be a string."),vo.test(n)||this.mutator_.mutateElement(e,(function(){if(void 0!==i.force){var t=!!i.force;e.classList.toggle(n,t)}else e.classList.toggle(n)})),null}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var po=function(){function t(){var n=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var e=self;this.win_=e;var i,r,o=(i=Nn().esm?".mjs":".js",r=Bn(),"".concat(r,"/").concat("ww").concat(i));this.worker_=null,this.fetchPromise_=new Promise((function(t){o=o.startsWith("http")?o:"".concat(location.protocol).concat(o);var i=new e.Blob(['importScripts("'.concat(o,'")')],{type:"text/javascript"}),r=e.URL.createObjectURL(i);n.worker_=new e.Worker(r),n.worker_.onmessage=n.receiveMessage_.bind(n),t()})),this.messages_={},this.counter_=0,this.windows_=[e]}var n,e;return n=t,(e=[{key:"sendMessage_",value:function(t,n,e){var i=this;return this.fetchPromise_.then((function(){return new Promise((function(r,o){var u=i.counter_++;i.messages_[u]={method:t,resolve:r,reject:o};var s=i.idForWindow_(e||i.win_);n.data=JSON.parse(JSON.stringify(n.data));var a={method:t,args:n,scope:s,id:u};i.worker_.postMessage(a)}))}))}},{key:"receiveMessage_",value:function(t){var n=t.data,e=n.id,i=n.returnValue,r=this.messages_[e];r&&(r.resolve(i),delete this.messages_[e])}},{key:"hasPendingMessages",value:function(){return Object.keys(this.messages_).length>0}},{key:"idForWindow_",value:function(t){var n=this.windows_.indexOf(t);return n>=0?n:this.windows_.push(t)-1}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var mo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.container_=null}var n,e;return n=t,(e=[{key:"renderTemplate",value:function(t,n,e){return this.render_(t.innerHTML,n,e)}},{key:"renderTemplateArray",value:function(t,n){var e=this;return 0==n.length?Promise.resolve([]):Promise.all(n.map((function(n){return e.render_(t.innerHTML,n)})))}},{key:"findAndRenderTemplate",value:function(t,n,e,i){return this.renderTemplate(this.findTemplate(t,e),n,i)}},{key:"findAndRenderTemplateArray",value:function(t,n,e){return this.renderTemplateArray(this.findTemplate(t,e),n)}},{key:"hasTemplate",value:function(t,n){return!!this.maybeFindTemplate(t,n)}},{key:"findTemplate",value:function(t,n){var e=this.maybeFindTemplate(t,n);q(e,"Template not found for %s",t);var i=e.tagName;return q("TEMPLATE"==i||"SCRIPT"==i&&"text/plain"===e.getAttribute("type"),'Template must be defined in a <template> or <script type="text/plain"> tag'),e}},{key:"maybeFindTemplate",value:function(t,n){var e=t.getAttribute("template");return e?self.document.getElementById(e):n?St(t,n):t.querySelector('template, script[type="text/plain"]')}},{key:"render_",value:function(t,n,e){var i=this;return function(t,n,e){return ee(t,"spz-worker",po),re(t,"spz-worker").sendMessage_("spz.template",e||[],t)}(self,0,{templateStr:t,data:{data:n,vnode:!0}}).then((function(t){var n=t.ast,r=t.html;return e?{el:i.parseHtml_(r),vnode:n}:i.parseHtml_(r)}))}},{key:"parseHtml_",value:function(t){this.container_||(this.container_=self.document.createElement("div")),this.container_.innerHTML=t;var n=this.container_.firstElementChild;return q(n,"No elements in template"),q(!n.nextElementSibling,"Too many root elements in template"),this.container_.removeChild(n),n}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var bo=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.resolved_=this.win.Promise.resolve(),this.taskCount_=0,this.canceled_={},this.startTime_=Date.now()}var n,e;return n=t,(e=[{key:"timeSinceStart",value:function(){return Date.now()-this.startTime_}},{key:"delay",value:function(t,n){var e=this;if(!n){var i="p"+this.taskCount_++;return this.resolved_.then((function(){e.canceled_[i]?delete e.canceled_[i]:t()})).catch(Ce),i}return this.win.setTimeout((function(){try{t()}catch(t){throw Ce(t),t}}),n)}},{key:"cancel",value:function(t){"string"!=typeof t?this.win.clearTimeout(t):this.canceled_[t]=!0}},{key:"promise",value:function(t){var n=this;return new this.win.Promise((function(e){if(-1==n.delay(e,t))throw new Error("Failed to schedule timer.")}))}},{key:"timeoutPromise",value:function(t,n,e){var i,r=this,o=new this.win.Promise((function(n,o){if(-1==(i=r.delay((function(){o(new Error(e||"timeout"))}),t)))throw new Error("Failed to schedule timer.")}));if(!n)return o;var u=function(){r.cancel(i)};return n.then(u,u),this.win.Promise.race([o,n])}},{key:"poll",value:function(t,n){var e=this;return new this.win.Promise((function(i){var r=e.win.setInterval((function(){n()&&(e.win.clearInterval(r),i())}),t)}))}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function ko(t){ee(t,"timer",bo)}var wo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var n=self.document,e=n.ownerDocument||n;this.anchor_=e.createElement("a"),this.cache_=new Ki(100)}var n,e;return n=t,(e=[{key:"parse",value:function(t,n){return jr(this.anchor_,t,n?null:this.cache_)}},{key:"parse_",value:function(t){return"string"!=typeof t?t:this.parse(t)}},{key:"isProtocolValid",value:function(t){return function(t){return!t||("string"==typeof t&&(t=zr(t)),!gr.includes(t.protocol))}(t)}},{key:"getSourceOrigin",value:function(t){return Pr(this.parse_(t))}},{key:"getSourceUrl",value:function(t){return Cr(this.parse_(t))}},{key:"resolveRelativeUrl",value:function(t,n){return Ir(t,this.parse_(n))}},{key:"assertHttpsUrl",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return _r(t,n,e)}},{key:"assertAbsoluteHttpOrHttpsUrl",value:function(t){return function(t){return q(/^https?\:/i.test(t),'URL must start with "http://" or "https://". Invalid value: %s',t),zr(t).href}(t)}},{key:"isProxyOrigin",value:function(t){return Tr(this.parse_(t))}},{key:"isSecure",value:function(t){return xr(this.parse_(t))}},{key:"getWinOrigin",value:function(t){return t.origin||this.parse_(t.location.href).origin}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function go(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zo(t,n,e,i){return function(r){return jo.solveYValueFromXValue(r,0,0,t,n,e,i,1,1)}}var jo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e;return n=t,(e=[{key:"solveYValueFromXValue",value:function(n,e,i,r,o,u,s,a,l){return t.getPointY_(t.solvePositionFromXValue_(n,e,r,u,a),i,o,s,l)}},{key:"solvePositionFromXValue_",value:function(n,e,i,r,o){var u=1e-6,s=(n-e)/(o-e);if(s<=0)return 0;if(s>=1)return 1;for(var a=0,l=1,c=0,f=0;f<8;f++){c=t.getPointX_(s,e,i,r,o);var h=(t.getPointX_(s+u,e,i,r,o)-c)/u;if(Math.abs(c-n)<u)return s;if(Math.abs(h)<u)break;c<n?a=s:l=s,s-=(c-n)/h}for(var v=0;Math.abs(c-n)>u&&v<8;v++)c<n?(a=s,s=(s+l)/2):(l=s,s=(s+a)/2),c=t.getPointX_(s,e,i,r,o);return s}},{key:"getPointX_",value:function(n,e,i,r,o){if(0==n)return e;if(1==n)return o;var u=t.lerp_(e,i,n),s=t.lerp_(i,r,n),a=t.lerp_(r,o,n);return u=t.lerp_(u,s,n),s=t.lerp_(s,a,n),t.lerp_(u,s,n)}},{key:"getPointY_",value:function(n,e,i,r,o){if(0==n)return e;if(1==n)return o;var u=t.lerp_(e,i,n),s=t.lerp_(i,r,n),a=t.lerp_(r,o,n);return u=t.lerp_(u,s,n),s=t.lerp_(s,a,n),t.lerp_(u,s,n)}},{key:"lerp_",value:function(t,n,e){return t+e*(n-t)}}])&&go(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),So={LINEAR:function(t){return t},EASE:function(t){return jo.solveYValueFromXValue(t,0,0,.25,.1,.25,1,1,1)},EASE_IN:function(t){return jo.solveYValueFromXValue(t,0,0,.42,0,1,1,1,1)},EASE_OUT:function(t){return jo.solveYValueFromXValue(t,0,0,0,0,.58,1,1,1)},EASE_IN_OUT:function(t){return jo.solveYValueFromXValue(t,0,0,.42,0,.58,1,1,1)}},Oo={"linear":So.LINEAR,"ease":So.EASE,"ease-in":So.EASE_IN,"ease-out":So.EASE_OUT,"ease-in-out":So.EASE_IN_OUT};function Eo(t){if(!t)return null;if(B(t)){if(-1!=(t=t).indexOf("cubic-bezier")){var n=t.match(/cubic-bezier\((.+)\)/);if(n){var e=n[1].split(",").map(parseFloat);if(4==e.length){for(var i=0;i<4;i++)if(isNaN(e[i]))return null;return zo(e[0],e[1],e[2],e[3])}}return null}return Oo[t]}return t}function xo(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _o(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ao(t,n,e){return n&&_o(t.prototype,n),e&&_o(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var To="Animation",Co=function(){},Po=function(){function t(n,e){xo(this,t),this.contextNode_=n,this.vsync_=e||ki.vsyncFor(self),this.curve_=null,this.segments_=[]}return Ao(t,[{key:"setCurve",value:function(t){return t&&(this.curve_=Eo(t)),this}},{key:"add",value:function(t,n,e,i){return this.segments_.push({delay:t,func:n,duration:e,curve:Eo(i)}),this}},{key:"start",value:function(t){return new Io(this.vsync_,this.contextNode_,this.segments_,this.curve_,t)}}],[{key:"animate",value:function(n,e,i,r){return new t(n).setCurve(r).add(0,e,1).start(i)}}]),t}(),Io=function(){function t(n,e,i,r,o){xo(this,t),this.vsync_=n,this.contextNode_=e,this.segments_=[];for(var u=0;u<i.length;u++){var s=i[u];this.segments_.push({delay:s.delay,func:s.func,duration:s.duration,curve:s.curve||r,started:!1,completed:!1})}this.duration_=o,this.startTime_=Date.now(),this.running_=!0,this.state_={};var l=new a;this.promise_=l.promise,this.resolve_=l.resolve,this.reject_=l.reject,this.task_=this.vsync_.createAnimTask(this.contextNode_,{mutate:this.stepMutate_.bind(this)}),this.vsync_.canAnimate(this.contextNode_)?this.task_(this.state_):(ne().warn(To,"cannot animate"),this.complete_(!1,0))}return Ao(t,[{key:"then",value:function(t,n){return t||n?this.promise_.then(t,n):this.promise_}},{key:"thenAlways",value:function(t){var n=t||Co;return this.then(n,n)}},{key:"halt",value:function(t){this.complete_(!1,t||0)}},{key:"complete_",value:function(t,n){if(this.running_){if(this.running_=!1,0!=n){this.segments_.length>1&&this.segments_.sort((function(t,n){return t.delay+t.duration-(n.delay+n.duration)}));try{if(n>0)for(var e=0;e<this.segments_.length;e++)this.segments_[e].func(1,!0);else for(var i=this.segments_.length-1;i>=0;i--)this.segments_[i].func(0,!1)}catch(n){ne().error(To,"completion failed: "+n,n),t=!1}}t?this.resolve_():this.reject_()}}},{key:"stepMutate_",value:function(t){if(this.running_){for(var n=Date.now(),e=Math.min((n-this.startTime_)/this.duration_,1),i=0;i<this.segments_.length;i++){var r=this.segments_[i];!r.started&&e>=r.delay&&(r.started=!0)}for(var o=0;o<this.segments_.length;o++){var u=this.segments_[o];u.started&&!u.completed&&this.mutateSegment_(u,e)}1==e?this.complete_(!0,0):this.vsync_.canAnimate(this.contextNode_)?this.task_(this.state_):(ne().warn(To,"cancel animation"),this.complete_(!1,0))}}},{key:"mutateSegment_",value:function(t,n){var e,i;if(t.duration>0){if(i=e=Math.min((n-t.delay)/t.duration,1),t.curve&&1!=i)try{i=t.curve(e)}catch(t){return ne().error(To,"step curve failed: "+t,t),void this.complete_(!1,0)}}else e=1,i=1;1==e&&(t.completed=!0);try{t.func(i,t.completed)}catch(t){return ne().error(To,"step mutate failed: "+t,t),void this.complete_(!1,0)}}}]),t}();function Ro(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var Mo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.handlers_=null}var n,e;return n=t,(e=[{key:"add",value:function(t){var n=this;return this.handlers_||(this.handlers_=[]),this.handlers_.push(t),function(){n.remove(t)}}},{key:"remove",value:function(t){this.handlers_&&Z(this.handlers_,t)}},{key:"removeAll",value:function(){this.handlers_&&(this.handlers_.length=0)}},{key:"fire",value:function(t){if(this.handlers_){var n,e=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return Ro(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Ro(t,n):void 0}}(t))){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(s)throw o}}}}(this.handlers_);try{for(e.s();!(n=e.n()).done;)(0,n.value)(t)}catch(t){e.e(t)}finally{e.f()}}}},{key:"getHandlerCount",value:function(){var t,n;return null!==(t=null===(n=this.handlers_)||void 0===n?void 0:n.length)&&void 0!==t?t:0}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var Do=function(){function t(){var n=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=self,this.platform_=ki.platformFor(this.win),this.scrollObservable_=new Mo,this.resizeObservable_=new Mo,this.boundScrollEventListener_=this.handleScrollEvent_.bind(this),this.boundResizeEventListener_=function(){return n.resizeObservable_.fire()},this.boundTouchMoveEventListener_=function(){n.win.document.activeElement&&n.win.document.activeElement.blur()},ne().fine("Viewport","initialized natural viewport")}var n,e;return n=t,(e=[{key:"handleScrollEvent_",value:function(){this.scrollObservable_.fire()}},{key:"connect",value:function(){this.win.addEventListener("scroll",this.boundScrollEventListener_),this.win.addEventListener("resize",this.boundResizeEventListener_),this.win.addEventListener("touchmove",this.boundTouchMoveEventListener_)}},{key:"disconnect",value:function(){this.win.removeEventListener("scroll",this.boundScrollEventListener_),this.win.removeEventListener("resize",this.boundResizeEventListener_)}},{key:"onScroll",value:function(t){this.scrollObservable_.add(t)}},{key:"onResize",value:function(t){this.resizeObservable_.add(t)}},{key:"disableScroll",value:function(){this.win.document.documentElement.classList.add("i-spzhtml-scroll-disabled")}},{key:"resetScroll",value:function(){this.win.document.documentElement.classList.remove("i-spzhtml-scroll-disabled")}},{key:"getSize",value:function(){var t=this.win.innerWidth,n=this.win.innerHeight;if(t&&n)return{width:t,height:n};var e=this.win.document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}},{key:"getScrollTop",value:function(){var t=this.getScrollingElement().scrollTop||this.win.pageYOffset,n=self.document.host;return n?t-n.offsetTop:t}},{key:"getScrollLeft",value:function(){return 0}},{key:"getLayoutRect",value:function(t,n,e){var i=t.getBoundingClientRect(),r=null!=e?e:this.getScrollTop(),o=null!=n?n:this.getScrollLeft();return Wt(Math.round(i.left+o),Math.round(i.top+r),Math.round(i.width),Math.round(i.height))}},{key:"setScrollTop",value:function(t){this.getScrollingElement().scrollTop=t}},{key:"getScrollingElement",value:function(){var t=this.win.document;return t.scrollingElement?t.scrollingElement:t.body&&this.platform_.isWebKit()?t.body:t.documentElement}},{key:"getScrollingElementScrollsLikeViewport",value:function(){return!0}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Fo(t,n,e){return q(n<=e,"Minimum value is greater than the maximum."),Math.min(Math.max(t,n),e)}function Lo(t,n){return function(e){return t+(n-t)*e}}var No="Viewport",Uo=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var e=self;this.globalDoc_=self.document,this.binding_=n,this.size_=null,this.scrollTop_=null,this.scrollLeft_=null,this.paddingTop_=0,this.timer_=ki.timerFor(e),this.vsync_=ki.vsyncFor(e),this.scrollTracking_=!1,this.scrollingElement_=null,this.scrollCount_=0,this.changeObservable_=new Mo,this.scrollObservable_=new Mo,this.resizeObservable_=new Mo,this.viewportMeta_=void 0,this.originalViewportMetaString_=void 0,this.ios_=ki.platformFor(e).isIos(),this.binding_.onScroll(this.scroll_.bind(this)),this.binding_.onResize(this.resize_.bind(this)),this.binding_.connect(),this.documentElement_=this.globalDoc_.documentElement,this.documentElement_.classList.add("i-spzhtml-doc"),this.documentElement_.classList.add("i-spzhtml-standalone"),this.leaveOverlayModeCounter_=0}var n,e;return n=t,(e=[{key:"dispose",value:function(){this.binding_.disconnect()}},{key:"onScroll",value:function(t){return this.scrollObservable_.add(t)}},{key:"getScrollTop",value:function(){return null==this.scrollTop_&&(this.scrollTop_=this.binding_.getScrollTop()),this.scrollTop_}},{key:"getScrollLeft",value:function(){return null==this.scrollLeft_&&(this.scrollLeft_=this.binding_.getScrollLeft()),this.scrollLeft_}},{key:"setScrollTop",value:function(t){this.scrollTop_=null,this.binding_.setScrollTop(t)}},{key:"getSize",value:function(){return this.size_||(this.size_=this.binding_.getSize()),this.size_}},{key:"getHeight",value:function(){return this.getSize().height}},{key:"getWidth",value:function(){return this.getSize().width}},{key:"getLayoutRect",value:function(t){var n=this.getScrollLeft(),e=this.getScrollTop(),i=function(t,n){var e=(t.ownerDocument||t).defaultView,i=n||ae(e);if(e&&e!=i&&ae(e)==i)try{return e.frameElement}catch(t){}return null}(t,self);if(i){var r=this.binding_.getLayoutRect(t,0,0),o=this.binding_.getLayoutRect(i,n,e);return Wt(Math.round(r.left+o.left),Math.round(r.top+o.top),Math.round(r.width),Math.round(r.height))}return this.binding_.getLayoutRect(t,n,e)}},{key:"scrollIntoView",value:function(t){var n=this;return this.getScrollingContainerFor_(t).then((function(e){return n.scrollIntoViewInternal_(t,e)}))}},{key:"scrollIntoViewInternal_",value:function(t,n){var e=this,i=this.binding_.getLayoutRect(t).top;l((function(){return Math.max(0,i-e.paddingTop_)})).then((function(t){return e.setElementScrollTop_(n,t)}))}},{key:"animateScrollIntoView",value:function(t,n){var e=this,i=n.opt_curve,r=n.opt_duration,o=n.pos,u=void 0===o?"top":o,s=n.target;return q(!i||void 0!==r,"Curve without duration doesn't make sense."),this.getScrollingContainerFor_(t).then((function(n){return e.animateScrollWithinParent(t,n,{pos:Q(u),opt_duration:r,opt_curve:i,target:s})}))}},{key:"animateScrollWithinParent",value:function(t,n,e){var i=this,r=e.opt_curve,o=e.opt_duration,u=e.pos,s=void 0===u?"top":u,a=e.target;q(!r||void 0!==o,"Curve without duration doesn't make sense.");var l,c=this.binding_.getLayoutRect(t),f=(this.isScrollingElement_(n)?this.getSize():this.getLayoutRect(n)).height,h=function(t,n,e){if(!e)return 0;var i=hn(t,e),r=i.bottom,o=i.height,u=i.paddingBottom,s=i.paddingTop,a=i.top;return"bottom"===n?parseFloat(r)+parseFloat(o)-parseFloat(s):parseFloat(a)+parseFloat(o)-parseFloat(u)}(self,s,a);switch(s){case"bottom":l=-f+c.height+h;break;case"center":l=-f/2+c.height/2+h;break;default:l=-h}return this.getElementScrollTop_(n).then((function(t){var e=c.top-i.paddingTop_+l,u=Math.max(0,e);if(u!=t)return i.interpolateScrollIntoView_(n,t,u,o,r)}))}},{key:"interpolateScrollIntoView_",value:function(t,n,e,i){var r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ease-in",u=void 0!==i?X(i):Zo(n,e),s=Lo(n,e);return Po.animate(t,(function(n){r.setElementScrollTop_(t,s(n))}),u,o).thenAlways((function(){r.setElementScrollTop_(t,e)}))}},{key:"getScrollingContainerFor_",value:function(t){var n=this;return this.vsync_.measurePromise((function(){return _t(t,".i-spzhtml-scrollable")||n.binding_.getScrollingElement()}))}},{key:"setElementScrollTop_",value:function(t,n){this.isScrollingElement_(t)?this.binding_.setScrollTop(n):this.vsync_.mutate((function(){t.scrollTop=n}))}},{key:"getElementScrollTop_",value:function(t){var n=this;return this.isScrollingElement_(t)?l((function(){return n.getScrollTop()})):this.vsync_.measurePromise((function(){return t.scrollTop}))}},{key:"isScrollingElement_",value:function(t){return t==this.binding_.getScrollingElement()}},{key:"getScrollingElement",value:function(){return this.scrollingElement_?this.scrollingElement_:this.scrollingElement_=this.binding_.getScrollingElement()}},{key:"onChanged",value:function(t){return this.changeObservable_.add(t)}},{key:"onResize",value:function(t){return this.resizeObservable_.add(t)}},{key:"removeResize",value:function(t){return this.resizeObservable_.remove(t)}},{key:"enterOverlayMode",value:function(t){this.leaveOverlayModeCounter_++,this.element=t,this.disableTouchZoom(),this.disableScroll(),this.handleIosScroll()}},{key:"leaveOverlayMode",value:function(){this.leaveOverlayModeCounter_--,0===this.leaveOverlayModeCounter_&&(this.resetScroll(),this.restoreOriginalTouchZoom()),this.restoreIosScroll()}},{key:"disableScroll",value:function(){var t,n=this,e=self;this.vsync_.measure((function(){var i=hn(e,n.documentElement_).marginRight,r=function(t){var n=t.document.documentElement;return t.innerWidth-n.clientWidth}(self);t=parseInt(i,10)+r})),this.vsync_.mutate((function(){ln(n.documentElement_,"margin-right",t,"px"),n.binding_.disableScroll()}))}},{key:"resetScroll",value:function(){var t=this;this.vsync_.mutate((function(){ln(t.documentElement_,"margin-right",""),t.binding_.resetScroll()}))}},{key:"resetTouchZoom",value:function(){var t=this,n=self.innerHeight,e=this.documentElement_.clientHeight;n&&e&&n===e||this.disableTouchZoom()&&this.timer_.delay((function(){t.restoreOriginalTouchZoom()}),50)}},{key:"disableTouchZoom",value:function(){var t=this.getViewportMeta_();if(!t)return!1;var n=function(t,n){var e=function(t){var n=Object.create(null);if(!t)return n;for(var e=t.split(/,|;/),i=0;i<e.length;i++){var r=e[i].split("="),o=r[0].trim(),u=r[1];u=(u||"").trim(),o&&(n[o]=u)}return n}(t),i=!1;for(var r in n)e[r]!==n[r]&&(i=!0,void 0!==n[r]?e[r]=n[r]:delete e[r]);return i?function(t){var n="";for(var e in t)n.length>0&&(n+=","),t[e]?n+=e+"="+t[e]:n+=e;return n}(e):t}(t.content,{"maximum-scale":"1","user-scalable":"no"});return this.setViewportMetaString_(n)}},{key:"restoreOriginalTouchZoom",value:function(){return void 0!==this.originalViewportMetaString_&&this.setViewportMetaString_(this.originalViewportMetaString_)}},{key:"handleIosScroll",value:function(){var t=this;if(this.ios_&&this.element){this.syncHeight_(this.element);var n=this;this.onResize((function(){t.syncHeight_(n.element)})),this.element.addEventListener("touchmove",(function(n){n.stopPropagation(),function(t,n,e){for(var i=t;i;){if(n.tagName===i.tagName)return null;if(e(i))return i;i=i.parentNode}return null}(n.target,t.element,t.conditionFunc_.bind(t))&&t.preventScroll_(n)}),{passive:!1}),this.globalDoc_.addEventListener("touchmove",this.preventScroll_,{passive:!1})}}},{key:"conditionFunc_",value:function(t){var n=SPZCore.Dom.computedStyle(self.window,t),e=t.scrollHeight,i=t.clientHeight,r=t.scrollWidth,o=t.clientWidth;return e<=i&&r<=o&&(n.overflow.includes("auto")||n.overflow.includes("scroll"))}},{key:"restoreIosScroll",value:function(){this.ios_&&(this.removeResize(this.syncHeight_),this.globalDoc_.removeEventListener("touchmove",this.preventScroll_))}},{key:"preventScroll_",value:function(t){t.preventDefault()}},{key:"syncHeight_",value:function(t){ln(t,"height","".concat(self.window.innerHeight,"px"))}},{key:"setViewportMetaString_",value:function(t){var n=this.getViewportMeta_();return!(!n||n.content==t||(ne().fine(No,"changed viewport meta to:",t),n.content=t,0))}},{key:"getViewportMeta_",value:function(){return void 0===this.viewportMeta_&&(this.viewportMeta_=this.globalDoc_.querySelector("meta[name=viewport]"),this.viewportMeta_&&(this.originalViewportMetaString_=this.viewportMeta_.content)),this.viewportMeta_}},{key:"changed_",value:function(t,n){var e=this.getSize(),i=this.getScrollTop(),r=this.getScrollLeft();ne().fine(No,"changed event:","relayoutAll=",t,"top=",i,"left=",r,"bottom=",i+e.height,"velocity=",n),this.changeObservable_.fire({relayoutAll:t,top:i,left:r,width:e.width,height:e.height,velocity:n})}},{key:"scroll_",value:function(){var t=this;this.scrollCount_++,this.scrollLeft_=this.binding_.getScrollLeft();var n=this.binding_.getScrollTop();if(!(n<0)){if(this.scrollTop_=n,!this.scrollTracking_){this.scrollTracking_=!0;var e=Date.now();this.timer_.delay((function(){t.vsync_.measure((function(){t.throttledScroll_(e,n)}))}),36)}this.scrollObservable_.fire()}}},{key:"throttledScroll_",value:function(t,n){var e=this;this.scrollTop_=this.binding_.getScrollTop();var i=this.scrollTop_,r=Date.now(),o=0;r!=t&&(o=(i-n)/(r-t)),ne().fine(No,"scroll: scrollTop="+i+"; velocity="+o),Math.abs(o)<.03?(this.changed_(!1,o),this.scrollTracking_=!1):this.timer_.delay((function(){return e.vsync_.measure(e.throttledScroll_.bind(e,r,i))}),20)}},{key:"resize_",value:function(){var t=this.size_;this.size_=null;var n=this.getSize(),e=!t||t.width!=n.width;this.changed_(e,0),(e||t.height!=n.height)&&this.resizeObservable_.fire({relayoutAll:e,width:n.width,height:n.height})}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Zo(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return Math.floor(Fo(.65*Math.abs(t-n),0,e))}function Bo(){var t=ki.viewerForDoc(),n=new Do;return new Uo(n,t)}var Vo=function(){function t(n,e,i){var r=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.timer_=ki.timerFor(n),this.handler_=e,this.defaultDelay_=i||0,this.scheduled_=-1,this.nextTime_=0,this.running_=!1,this.boundPass_=function(){r.pass_()}}var n,e;return n=t,(e=[{key:"isPending",value:function(){return-1!=this.scheduled_}},{key:"schedule",value:function(t){var n=t||this.defaultDelay_;this.running_&&n<10&&(n=10);var e=Date.now()+n;return(!this.isPending()||e-this.nextTime_<-10)&&(this.cancel(),this.nextTime_=e,this.scheduled_=this.timer_.delay(this.boundPass_,n),!0)}},{key:"pass_",value:function(){this.scheduled_=-1,this.nextTime_=0,this.running_=!0,this.handler_(),this.running_=!1}},{key:"cancel",value:function(){this.isPending()&&(this.timer_.cancel(this.scheduled_),this.scheduled_=-1)}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),Ho="visible";var Go=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.raf_=this.getRaf_(),this.tasks_=[],this.nextTasks_=[],this.states_=[],this.nextStates_=[],this.scheduled_=!1,this.nextFramePromise_=null,this.nextFrameResolver_=null,this.boundRunScheduledTasks_=this.runScheduledTasks_.bind(this),this.invisiblePass_=new Vo(this.win,this.boundRunScheduledTasks_,16),this.backupPass_=new Vo(this.win,this.boundRunScheduledTasks_,40)}var n,e;return n=t,(e=[{key:"run",value:function(t,n){this.tasks_.push(t),this.states_.push(n||void 0),this.schedule_()}},{key:"runPromise",value:function(t,n){if(this.run(t,n),this.nextFramePromise_)return this.nextFramePromise_;var e=new a;return this.nextFrameResolver_=e.resolve,this.nextFramePromise_=e.promise}},{key:"createTask",value:function(t){var n=this;return function(e){n.run(t,e)}}},{key:"mutate",value:function(t){this.run({measure:void 0,mutate:t})}},{key:"mutatePromise",value:function(t){return this.runPromise({measure:void 0,mutate:t})}},{key:"measure",value:function(t){this.run({measure:t,mutate:void 0})}},{key:"measurePromise",value:function(t){var n=this;return new Promise((function(e){n.measure((function(){e(t())}))}))}},{key:"canAnimate",value:function(){return this.canAnimate_()}},{key:"canAnimate_",value:function(){return!(function(t){var n=an(t,"visibilityState",!0);if(t[n])return t[n];var e=an(t,"hidden",!0);return t[e]&&t[e]?"hidden":Ho}(this.win.document)!=Ho)}},{key:"runAnim",value:function(t,n,e){return this.canAnimate_(t)?(this.run(n,e),!0):(ne().warn("VSYNC","Did not schedule a vsync request, because document was invisible"),!1)}},{key:"createAnimTask",value:function(t,n){var e=this;return function(i){return e.runAnim(t,n,i)}}},{key:"runAnimMutateSeries",value:function(t,n,e){var i=this;return this.canAnimate_(t)?new Promise((function(r,o){var u=Date.now(),s=0,a=i.createAnimTask(t,{mutate:function(t){var i=Date.now()-u;n(i,i-s,t)?e&&i>e?o(new Error("timeout")):(s=i,a(t)):r()}});a({})})):Promise.reject("runAnimMutateSeries")}},{key:"schedule_",value:function(){this.scheduled_||(this.scheduled_=!0,this.forceSchedule_())}},{key:"forceSchedule_",value:function(){this.canAnimate_()?(this.raf_(this.boundRunScheduledTasks_),this.backupPass_.schedule()):this.invisiblePass_.schedule()}},{key:"runScheduledTasks_",value:function(){this.backupPass_.cancel(),this.scheduled_=!1;var t=this.nextFrameResolver_,n=this.states_,e=this.tasks_;this.nextFrameResolver_=null,this.nextFramePromise_=null,this.tasks_=this.nextTasks_,this.states_=this.nextStates_;for(var i=0;i<e.length;i++)e[i].measure&&($o(e[i].measure,n[i])||(e[i].mutate=void 0));for(var r=0;r<e.length;r++)e[r].mutate&&$o(e[r].mutate,n[r]);this.nextTasks_=e,this.nextStates_=n,this.nextTasks_.length=0,this.nextStates_.length=0,t&&t()}},{key:"getRaf_",value:function(){var t=this,n=this.win.requestAnimationFrame||this.win.webkitRequestAnimationFrame;if(n)return n.bind(this.win);var e=0;return function(n){var i=Date.now(),r=Math.max(0,16-(i-e));e=i+r,t.win.setTimeout(n,r)}}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function $o(t,n){q(t);try{void 0!==t(n)&&ne().error("VSYNC","callback returned a value but vsync cannot propogate it: %s",t.toString())}catch(t){return O(t),!1}return!0}function Wo(t){var n;ee(t,"batched-xhr",Vr),fo(t),ko(t),ko(n=t),ee(n,"vsync",Go),function(t){ee(t,"xhr",Lr)}(t)}function qo(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function Jo(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function Qo(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}(function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.callback_=n,this.options_=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Jo(Object(e),!0).forEach((function(n){Qo(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Jo(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({root:null,rootMargin:"0px 0px 0px 0px"},e),this.elements_=[],this.inst_=null,t._upgraders.push(this.upgrade_.bind(this))}var n,e;return n=t,(e=[{key:"root",get:function(){return this.inst_?this.inst_.root:this.options_.root||null}},{key:"rootMargin",get:function(){return this.inst_?this.inst_.rootMargin:this.options_.rootMargin}},{key:"thresholds",get:function(){return this.inst_?this.inst_.thresholds:[].concat(this.options_.threshold||0)}},{key:"disconnect",value:function(){this.inst_?this.inst_.disconnect():this.elements_.length=0}},{key:"takeRecords",value:function(){return this.inst_?this.inst_.takeRecords():[]}},{key:"observe",value:function(t){this.inst_?this.inst_.observe(t):-1==this.elements_.indexOf(t)&&this.elements_.push(t)}},{key:"unobserve",value:function(t){if(this.inst_)this.inst_.unobserve(t);else{var n=this.elements_.indexOf(t);-1!=n&&this.elements_.splice(n,1)}}},{key:"upgrade_",value:function(t){var n=new t(this.callback_,this.options_);this.inst_=n;var e,i=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return qo(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?qo(t,n):void 0}}(t))){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(s)throw o}}}}(this.elements_);try{for(i.s();!(e=i.n()).done;){var r=e.value;n.observe(r)}}catch(t){i.e(t)}finally{i.f()}this.elements_.length=0}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}())._upgraders=[];var Xo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.queue_=[]}var n,e;return n=t,(e=[{key:"peek",value:function(){var t=this.length;return t?this.queue_[t-1].item:null}},{key:"enqueue",value:function(t,n){if(isNaN(n))throw new Error("Priority must not be NaN.");var e=this.binarySearch_(n);this.queue_.splice(e,0,{item:t,priority:n})}},{key:"binarySearch_",value:function(t){for(var n=-1,e=0,i=this.length;e<=i&&(n=Math.floor((e+i)/2))!==this.length;)if(this.queue_[n].priority<t)e=n+1;else{if(!(n>0&&this.queue_[n-1].priority>=t))break;i=n-1}return n}},{key:"forEach",value:function(t){for(var n=this.length;n--;)t(this.queue_[n].item)}},{key:"dequeue",value:function(){return this.length?this.queue_.pop().item:null}},{key:"length",get:function(){return this.queue_.length}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Yo(t){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ko(t,n){return(Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function tu(t,n){if(n&&("object"===Yo(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nu(t){return(nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eu(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function iu(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ru(t,n,e){return n&&iu(t.prototype,n),e&&iu(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var ou="CHUNK",uu=/nochunking=1/.test(self.location.hash),su=s();function au(t,n){if(uu)su.then(t);else{var e=(ie("chunk",hu),oe("chunk"));e.runForStartup(t),n&&e.runForStartup((function(){e.bodyIsVisible_=!0}))}}var lu="not_run",cu=function(){function t(n){eu(this,t),this.state=lu,this.fn_=n}return ru(t,[{key:"runTask_",value:function(t){if("run"!=this.state){this.state="run";try{this.fn_(t)}catch(t){throw this.onTaskError_(t),t}}}},{key:"getName_",value:function(){return this.fn_.displayName||this.fn_.name}},{key:"onTaskError_",value:function(t){}},{key:"immediateTriggerCondition_",value:function(){return!0}},{key:"useRequestIdleCallback_",value:function(){return!1}}]),t}(),fu=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ko(t,n)}(r,t);var n,e,i=(n=r,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=nu(n);if(e){var r=nu(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return tu(this,t)});function r(t,n,e){var o;return eu(this,r),(o=i.call(this,t)).chunks_=e,o}return ru(r,[{key:"onTaskError_",value:function(t){Qn(self.document)}},{key:"useRequestIdleCallback_",value:function(){return this.chunks_.coreReady_}}]),r}(cu),hu=function(){function t(){var n=this;eu(this,t),this.win_=self,this.tasks_=new Xo,this.boundExecute_=this.execute_.bind(this),this.durationOfLastExecution_=0,this.supportsInputPending_=!(!this.win_.navigator.scheduling||!this.win_.navigator.scheduling.isInputPending),this.scheduledImmediateInvocation_=!1,this.bodyIsVisible_=this.win_.document.documentElement.hasAttribute("i-spzhtml-no-boilerplate"),this.win_.addEventListener("message",(function(t){"spz-macro-task"==Ei(t)&&n.execute_(null)})),this.coreReady_=!1,ki.viewerPromiseForDoc().then((function(){n.coreReady_=!0}))}return ru(t,[{key:"run",value:function(t,n){var e=new cu(t);this.enqueueTask_(e,n)}},{key:"runForStartup",value:function(t){var n=new fu(t,this.win_,this);this.enqueueTask_(n,Number.POSITIVE_INFINITY)}},{key:"enqueueTask_",value:function(t,n){this.tasks_.enqueue(t,n),this.schedule_()}},{key:"nextTask_",value:function(t){for(var n=this.tasks_.peek();n&&n.state!==lu;)this.tasks_.dequeue(),n=this.tasks_.peek();return n&&t&&this.tasks_.dequeue(),n}},{key:"execute_",value:function(t){var n,e=this,i=this.nextTask_(!0);if(!i)return this.scheduledImmediateInvocation_=!1,this.durationOfLastExecution_=0,!1;try{n=Date.now(),i.runTask_(t)}finally{su.then().then().then().then().then().then().then().then().then((function(){e.scheduledImmediateInvocation_=!1,e.durationOfLastExecution_+=Date.now()-n,ne().fine(ou,i.getName_(),"Chunk duration",Date.now()-n,e.durationOfLastExecution_),e.schedule_()}))}return!0}},{key:"executeAsap_",value:function(t){var n=this;if(this.bodyIsVisible_&&(this.supportsInputPending_?this.win_.navigator.scheduling.isInputPending():this.durationOfLastExecution_>5))return this.durationOfLastExecution_=0,void this.requestMacroTask_();su.then((function(){n.boundExecute_(t)}))}},{key:"schedule_",value:function(){if(!this.scheduledImmediateInvocation_){var t=this.nextTask_();if(t)return t.immediateTriggerCondition_()?(this.scheduledImmediateInvocation_=!0,void this.executeAsap_(null)):void(t.useRequestIdleCallback_()&&this.win_.requestIdleCallback?function(t,n,e,i){var r=Date.now();t.requestIdleCallback((function n(o){if(o.timeRemaining()<15){var u=e-(Date.now()-r);u<=0||o.didTimeout?(ne().fine(ou,"Timed out",e,o.didTimeout),i(o)):(ne().fine(ou,"Rescheduling with",u,o.timeRemaining()),t.requestIdleCallback(n,{timeout:u}))}else ne().fine(ou,"Running idle callback with ",15),i(o)}),{timeout:e})}(this.win_,0,2e3,this.boundExecute_):this.requestMacroTask_())}}},{key:"requestMacroTask_",value:function(){this.win_.postMessage("spz-macro-task","*")}}]),t}();var vu=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win_=n,this.callback_=e,this.exprMap_={}}var n,e;return n=t,(e=[{key:"resolveMatchQuery",value:function(t){return/\((.+?)\)/g.test(t)?this.resolve_(t,this.parseMediaQueryListExpr_,""):t}},{key:"resolve_",value:function(t,n){var e=this.exprMap_[t];return e||(e=n(this.win_,t),this.toggleOnChange_(e,this.callback_)),this.exprMap_[t]=e,this.resolveMediaQueryListExpr_(e)}},{key:"parseMediaQueryListExpr_",value:function(t,n){return n.split(",").map((function(n){if(0!=(n=n.replace(/\s+/g," ").trim()).length){var e=n.split(" "),i=e.pop();if(!i)return null;var r=e.join(" ");return{query:r?t.matchMedia(r):null,value:i}}})).filter(Boolean)}},{key:"resolveMediaQueryListExpr_",value:function(t){var n;return null===(n=t.find((function(t){var n=t.query;return!n||n.matches})))||void 0===n?void 0:n.value}},{key:"toggleOnChange_",value:function(t,n){var e=this;t.forEach((function(t){var i=t.query;i&&(i.onchange=function(t){e.clear_(),n(t)})}))}},{key:"clear_",value:function(){this.exprMap_={}}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function yu(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.rootMargin,r=e.threshold;return new n.IntersectionObserver(t,{threshold:r,undefined:void 0,rootMargin:i})}var pu=new WeakMap,du=new WeakMap;function mu(t){for(var n=new Set,e=t.length-1;e>=0;e--){var i=t[e],r=i.target;if(!n.has(r)){n.add(r);var o=du.get(r);if(o)for(var u=0;u<o.length;u++)(0,o[u])(i)}}}var bu={};bu.Layout=dn,bu.SpzEvents=_e,bu.LayoutPriority=mn,bu.isLayoutSizeDefined=wn,bu.isLayoutSizeFixed=function(t){return t==dn.FIXED||t==dn.FIXED_HEIGHT},bu.isLayoutSizeLogic=function(t){return t==dn.LOGIC},bu.observeIntersections=function(t,n,e){var i=t.ownerDocument.defaultView;if(e){var r=yu((function(t){n(t[t.length-1])}),i,e);return r.observe(t),function(){r.unobserve(t)}}var o=pu.get(i);o||pu.set(i,o=yu(mu,i));var u=du.get(t);return u||(u=[],du.set(t,u)),u.push(n),o.observe(t),function(){!function(t,n){var e=du.get(t);if(e&&Z(e,n)&&!e.length){var i=t.ownerDocument.defaultView,r=pu.get(i);null==r||r.unobserve(t),du.delete(t)}}(t,n)}},bu.Dom={tryFocus:Ht,closest:xt,closestAncestorElementBySelector:_t,removeElement:Nt,realChildElements:function(t){return Tt(t,(function(t){return"string"==typeof(e=n=t)?i=e:e.nodeType===Node.ELEMENT_NODE&&(i=J(e).tagName),!(i&&i.toLowerCase().startsWith("i-")||n.nodeType===Node.ELEMENT_NODE&&(J(n),n.hasAttribute("placeholder")));var n,e,i}))},scopedQuerySelector:St,scopedQuerySelectorAll:Ot,removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toggleAttribute:function(t,n,e){var i=t.hasAttribute(n),r=void 0!==e?e:!i;return r!==i&&(r?t.setAttribute(n,""):t.removeAttribute(n)),r},isConnectedNode:Zt,dispatchCustomEvent:Gt,getStyle:function(t,n,e){var i=an(t.style,n,e);if(i)return vn(i)?t.style.getPropertyValue(i):t.style[i]},setImportantStyles:function(t,n){var e=t.style;for(var i in n)e.setProperty(an(e,i),String(n[i]),"important")},setStyle:ln,setStyles:cn,computedStyle:hn,toggle:fn,htmlFor:rn,isIframeVideoPlayerComponent:function(t){return"SPZ-VIDEO"!=t&&bn.test(t)},waitForChild:Dt,MediaQueryProps:vu},bu.Types={isArray:N,toArray:L,isEmptyObject:d,dict:b,getValueForExpr:w,hasOwn:k,throttle:V,debounce:H},bu.DS={bezierCurve:zo},bu.Curves=So,bu.Math={clamp:Fo};var ku=bu,wu=ki,gu={isSpzElement:Pn};gu.Event={create:Si,listen:Oi,listenOnce:xi,delegateListen:function(t,n,e,i,r){return function(t,n,e,i,r){return ji(t,e,(function(t){for(var e=t.currentTarget,r=t.target,o=r;o&&o!=e;){if(Et(o,n)){var u=gi({},r);u.target=o,u.currentTarget=o,null==i||i(u)}o=o.parentNode}}),r)}(t,n,e,i,r)}},gu.Animation=Po,gu.Transtion={numeric:Lo,px:function(t){return function(n){return t(n)+"px"}},setStyles:function(t,n){return function(e,i){for(var r in n)ln(t,("display"===(o=r)&&ne().error("STYLE","`display` style detected. You must use toggle instead."),o),n[r](e,i));var o}}},gu.Styles={install:Wn},gu.Urls={addParamsToUrl:Sr,parseQueryString:Yi,addOrReplaceParams:Or,removeFragment:Ar,removeSearch:function(t){var n=t.indexOf("?");if(-1==n)return t;var e=function(t){var n=t.indexOf("#");return-1==n?"":t.substring(n)}(t);return t.substring(0,n)+e},isSpzElement:Pn};var zu,ju=gu;zu=function(t,n,e){Ce(n)}.bind(null,self),self.__SPZ_REPORT_ERROR=zu;var Su="runtime";function Ou(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var Eu=["SPZ-IMG"],xu=[];function _u(){new(self.MutationObserver||self.WebKitMutationObserver)((function(t){var n=t.reduce((function(t,n){return t.concat.apply(t,function(t){return function(t){if(Array.isArray(t))return Ou(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return Ou(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Ou(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.addedNodes))}),[]);n.length&&Au(n)})).observe(self.document.documentElement,{childList:!0,subtree:!0}),Au(Array.from(self.document.querySelectorAll("[layout]")).concat(Array.from(self.document.querySelectorAll("form")))),au((function(){Wo(self),ie("url",wo,!0),ie("templates",mo),ie("viewport",Bo,!0),ie("mutator",lo),ie("action",Gi,!0),ie("standard-actions",yo,!0),ie("spz-locale",ao)})),au((function(){!function(t,n){if(t.__SPZ_TAG)return s();t.__SPZ_TAG=!0;var e=[];ee(t,"extensions",yi);var i=ki.extensionsFor(t);Wo(t),Object.assign(t.SPZ,{win:t,lang:self.document.documentElement.getAttribute("lang")||"en-US"}),Nn().minified||(t.SPZ.extension=function(n,e,i){i(t.SPZ)}),function(t){t.SPZCore=ku,t.SPZUtils=ju,t.SPZServices=wu}(t),t.SPZ.BaseElement=Ti,t.SPZ.registerElement=i.addElement.bind(i),t.SPZ.registerServiceForDoc=i.addService.bind(i),t.SPZ.whenDefined=function(n){var e=n.tagName.toLowerCase();return wu.extensionsFor(t).installExtensionForDoc(e).then((function(){return t.customElements.whenDefined(e)}))},t.SPZ.whenApiDefined=function(n){return t.SPZ.whenDefined(n).then((function(){return n.getApi()}))},t.SPZ.defineElement=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0.1";t.startsWith("spz-custom")&&o({n:t,ev:e,l:!0,f:function(){self.SPZ.registerElement(t,n)}})};var r=Lt(t.document).then((function(){ii()}));function o(n){!function(t,n,e){"function"==typeof n||"high"==n.p?s().then(e):(e.displayName=n.n,au(e))}(0,n,(function(){r.then((function(){"function"==typeof n?n(t.SPZ,t.SPZ._):i.registerExtension({extensionId:n.n,version:n.ev,latest:n.l,factory:n.f,arg:t.SPZ,type:n.t})}))}))}for(var u=0;u<e.length;u++){var a=e[u];if("function"==typeof a||"high"==a.p){try{o(a)}catch(t){ne().error(Su,"Extension failed: ",t,a.n)}e.splice(u--,1)}}!function(t,n){t.document.body?ki.timerFor(t).delay(n,1):n()}(t,(function(){t.SPZ.push=function(t){o(t)};for(var n=0;n<e.length;n++){var i=e[n];try{o(i)}catch(t){ne().error(Su,"Extension failed: ",t,i.n)}}e.length=0})),t.SPZ.push||(t.SPZ.push=e.push.bind(e)),ki.platformFor(t).isIos()&&ln(t.document.documentElement,"cursor","pointer");var l=ki.extensionsFor(t);(function(t){return!t.IntersectionObserver||!t.IntersectionObserverEntry||!!t.IntersectionObserver._stub||!function(t){try{return new t.IntersectionObserver((function(){}),{root:t.document}),!0}catch(t){return!1}}(t)||function(t){return/apple/i.test(t.navigator.vendor)}(t)})(t)&&l.preloadExtension("spz-intersection-observer-polyfill")}(self)})),au((function(){!function(t){to(t),function(t){oi(t,"spz-layout",so)}(t)}(self)})),au((function(){var t;q((t=self.document).defaultView,"Passed in document must have a defaultView"),Lt(t).catch((function(t){O(t)})).then((function(){Jn=!0,Xn(t)}))}),!0)}function Au(t){var n,e=function(t){var n=[],e=[],i=[],r=function(t){var r=t.tagName;if((null==r||!r.startsWith("SPZ-CUSTOM"))&&(null!=r&&r.startsWith("SPZ-")||null!=r&&r.startsWith("LJS-"))&&!Eu.includes(r)){if(function(t){return"LJS-IMG"===t&&!Fn("SPZ-IMG")}(r))return to(self,"ljs-img"),void Ln("SPZ-IMG",r);var o=t.getAttribute("layout"),u=o!==dn.NODISPLAY,s=o===dn.LOGIC;s&&!i.includes(r)?i.push(r):!u||s||n.includes(r)?u||e.includes(r)||e.push(r):n.push(r)}};return t.forEach((function(t){r(t);var n=t.querySelectorAll&&t.querySelectorAll("[layout]");null==n||n.forEach((function(t){r(t)}))})),{spzList:n.map((function(t){return{extensionId:t.toLowerCase()}})),spzLogicList:i,noDisplayList:e}}(t),i=e.noDisplayList,r=e.spzList,o=e.spzLogicList;r.length&&ii(r),(n=o).length&&n.forEach((function(t){var n=Gn(self,t.toLocaleLowerCase(),"0.1");self.document.head.appendChild(n)})),function(t){var n=[],e=function(t){"FORM"!==t.tagName||"spz-form"!==t.getAttribute("is")&&!t.hasAttribute("action-xhr")||n.push(t)};if(t.forEach((function(t){e(t);var n=t.querySelectorAll&&t.querySelectorAll("form");null==n||n.forEach((function(t){e(t)}))})),n.length){var i=new IntersectionObserver((function(t){var n=oe("spz-form"),e=t.filter((function(t){return t.isIntersecting})).map((function(t){return t.target}));if(e.length)if(n)n.installSubmissionHandlers(e);else{var i=Gn(self,"spz-form","0.1");self.document.head.appendChild(i)}}));n.forEach((function(t){return i.observe(t)}))}}(t),function(t){t.length&&t.forEach((function(t){if(!xu.includes(t)){var n=Vn(t.toLowerCase()),e=self.document.createElement("link");e.setAttribute("rel","prefetch"),e.setAttribute("as","script"),e.href=n,self.document.head.appendChild(e),xu.push(t)}}))}(i)}self.__SPZ_TAG||function(){var t;t=yr.url,self.SPZ=t,self.location&&(self.location.originalHash=self.location.hash);try{!function(t){t.onerror=Pe,t.addEventListener("unhandledrejection",(function(t){Ce(t.reason||new Error("rejected promise "+t))}))}(self)}catch(t){throw Qn(self.document),t}au((function(){fo(self),Wn("html{overflow-x:hidden!important}html,html body{height:auto!important}html body{margin:0!important}body{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}html.i-spzhtml-doc{-ms-touch-action:pan-y pinch-zoom;touch-action:pan-y pinch-zoom}html.i-spzhtml-doc>body{overflow:visible!important;position:relative!important}.i-spzhtml-scroll-disabled{overflow-x:hidden!important;overflow-y:hidden!important}.i-spzhtml-carousel-scroll-disabled{-ms-touch-action:none;touch-action:none;-ms-touch-action:pan-y;touch-action:pan-y}spz-list [role=loading]:not([pagination]),spz-list [role=loading]:not([scroll]),spz-pagination>[role=arrow]{display:none}spz-carousel{display:-ms-flexbox!important;display:flex!important}spz-img[layout=responsive][auto-fit]{width:100%}spz-accordion>section>:last-child{display:none!important}spz-accordion>section[expanded]>:last-child{display:block!important}spz-menu [spz-menu-root]{display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}spz-menu>*{opacity:0;pointer-events:none}spz-menu[finish]>*{opacity:1!important;pointer-events:auto!important}spz-list[display-in-order] [role=listitem] spz-img img{opacity:0;transition:opacity .5s linear}spz-dropdown{display:none}spz-script{font-size:0}ljs-list [role=loading]:not([pagination]),ljs-list [role=loading]:not([scroll]),ljs-pagination>[role=arrow]{display:none}ljs-carousel{display:-ms-flexbox!important;display:flex!important}ljs-img[layout=responsive][auto-fit]{width:100%}ljs-accordion>section>:last-child{display:none!important}ljs-accordion>section[expanded]>:last-child{display:block!important}[layout=container]:not(.i-spzhtml-built){color:inherit!important}ljs-menu [spz-menu-root]{display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}ljs-menu>*{opacity:0;pointer-events:none}ljs-menu[finish]>*{opacity:1!important;pointer-events:auto!important}ljs-list[display-in-order] [role=listitem] ljs-img img{opacity:0;transition:opacity .5s linear}ljs-script{font-size:0}ljs-img:not(.i-spzhtml-element)[i-spzhtml-ssr]>img.i-spzhtml-fill-content{display:block}ljs-img.i-spzhtml-ssr:not(.i-spzhtml-element)>[placeholder]{z-index:auto}ljs-carousel:not(.i-spzhtml-built) .i-spzhtml-slides-container>:not(.i-spzhtml-slide-item-show),ljs-carousel:not(.i-spzhtml-built):not([i-spzhtml-ssr])>*{display:none}ljs-carousel .i-spzhtml-slides-container{z-index:1;box-sizing:content-box;transform:translate(0px)}ljs-carousel .i-spzhtml-slide-item,ljs-carousel .i-spzhtml-slides-container{position:relative;width:100%;height:100%;display:-ms-flexbox;display:flex;transition-property:transform}ljs-carousel .i-spzhtml-slide-item{-ms-flex-negative:0;flex-shrink:0}ljs-carousel .i-spzhtml-slide-item>*{width:100%;overflow:hidden!important}ljs-carousel[effect=fade] .i-spzhtml-slides-container .i-spzhtml-slide-item{opacity:0;display:-ms-flexbox;display:flex}\n/*# sourceURL=/css/spzdoc.css*/[hidden]{display:none!important}.i-spzhtml-element{display:inline-block}[layout=nodisplay]:not(.i-spzhtml-element){display:none!important}.i-spzhtml-layout-fixed,[layout=fixed][width][height]:not(.i-spzhtml-layout-fixed){display:inline-block;position:relative}.i-spzhtml-layout-responsive,[layout=responsive][width][height]:not(.i-spzhtml-layout-responsive),[width][height][heights]:not([layout]):not(.i-spzhtml-layout-responsive),[width][height][sizes]:not(img):not([layout]):not(.i-spzhtml-layout-responsive){display:block;position:relative}.i-spzhtml-layout-intrinsic,[layout=intrinsic][width][height]:not(.i-spzhtml-layout-intrinsic){display:inline-block;position:relative;max-width:100%}[layout=intrinsic][width][height].i-spzhtml-layout-intrinsic .i-spzhtml-fill-content{min-width:auto;width:auto}.i-spzhtml-layout-intrinsic .i-spzhtml-sizer{max-width:100%}.i-spzhtml-intrinsic-sizer{max-width:100%;display:block!important}.i-spzhtml-layout-container,.i-spzhtml-layout-fixed-height,.i-spzhtml-layout-logic,[layout=container],[layout=fixed-height][height]:not(.i-spzhtml-layout-fixed-height){display:block;position:relative}.i-spzhtml-layout-fill,.i-spzhtml-layout-fill.i-spzhtml-notbuilt,[layout=fill]:not(.i-spzhtml-layout-fill){display:block;overflow:hidden!important;position:absolute;top:0;left:0;bottom:0;right:0}.i-spzhtml-layout-flex-item,[layout=flex-item]:not(.i-spzhtml-layout-flex-item){display:block;position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.i-spzhtml-layout-size-defined{overflow:hidden!important}.i-spzhtml-layout-awaiting-size{position:absolute!important;top:auto!important;bottom:auto!important}i-spzhtml-sizer{display:block!important}@supports (aspect-ratio:1/1){i-spzhtml-sizer.i-spzhtml-disable-ar{display:none!important}}.i-spzhtml-fill-content{display:block;height:0;max-height:100%;max-width:100%;min-height:100%;min-width:100%;width:0;margin:auto}.i-spzhtml-layout-size-defined .i-spzhtml-fill-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-spzhtml-replaced-content{padding:0!important;border:none!important}.i-spzhtml-unresolved{position:relative;overflow:hidden!important}.i-spzhtml-notbuilt,[layout]:not(.i-spzhtml-element),[width][height][heights]:not([layout]):not(.i-spzhtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-spzhtml-element){position:relative;overflow:hidden!important;color:transparent!important}.i-spzhtml-notbuilt:not(.i-spzhtml-layout-container):not(spz-img)>*,[layout]:not([layout=container]):not(.i-spzhtml-element)>*,[width][height][heights]:not([layout]):not(.i-spzhtml-element)>*,[width][height][sizes]:not([layout]):not(.i-spzhtml-element)>*,spz-img.i-spzhtml-notbuilt:not(.i-spzhtml-layout-container):not([i-spzhtml-ssr])>*{display:none}[layout]:not([layout=container]):not(.i-spzhtml-element),[layout]:not([layout=container]):not([manual]).i-spzhtml-notbuilt,[width][height][heights]:not([layout]):not(.i-spzhtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-spzhtml-element){color:transparent!important;line-height:0!important}spz-img:not(.i-spzhtml-element)[i-spzhtml-ssr]>img.i-spzhtml-fill-content{display:block}.i-spzhtml-ghost{visibility:hidden!important}.i-spzhtml-element>[placeholder],[layout]:not(.i-spzhtml-element)>[placeholder],[width][height][heights]:not([layout]):not(.i-spzhtml-element)>[placeholder],[width][height][sizes]:not([layout]):not(.i-spzhtml-element)>[placeholder]{display:block;line-height:normal}.i-spzhtml-element>[placeholder].hidden,.i-spzhtml-element>[placeholder].spz-hidden{visibility:hidden}.i-spzhtml-layout-container>[placeholder].hidden,.i-spzhtml-layout-container>[placeholder].spz-hidden{display:none}.i-spzhtml-layout-size-defined>[placeholder]{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1}spz-img.i-spzhtml-ssr:not(.i-spzhtml-element)>[placeholder]{z-index:auto}.i-spzhtml-notbuilt>[placeholder]{display:block!important}template{display:none!important}[visible-when-invalid]:not(.visible),form [submit-error],form [submit-success],form [submitting]{display:none}[layout=intrinsic][i-spzhtml-unheight-layout] img{width:100%!important;height:auto!important;position:relative!important}spz-carousel:not(.i-spzhtml-built) .i-spzhtml-slides-container>:not(.i-spzhtml-slide-item-show),spz-carousel:not(.i-spzhtml-built):not([i-spzhtml-ssr])>*{display:none}spz-carousel .i-spzhtml-slides-container{z-index:1;box-sizing:content-box;transform:translate(0px)}spz-carousel .i-spzhtml-slide-item,spz-carousel .i-spzhtml-slides-container{position:relative;width:100%;height:100%;display:-ms-flexbox;display:flex;transition-property:transform}spz-carousel .i-spzhtml-slide-item{-ms-flex-negative:0;flex-shrink:0}spz-carousel .i-spzhtml-slide-item>*{width:100%;overflow:hidden!important}spz-carousel[effect=fade] .i-spzhtml-slides-container .i-spzhtml-slide-item{opacity:0;display:-ms-flexbox;display:flex}.i-spzhtml-tab-panel:not([active]){display:none}\n/*# sourceURL=/css/spzshared.css*/",(function(){return _u()}),!0,"spz-runtime")})),Nn().localDev&&self.document.documentElement.setAttribute("esm",0),self.document.documentElement.setAttribute("spz-version","1.0")}()}()}catch(t){throw setTimeout((function(){var t=document.body.style;t.opacity=1,t.visibility="visible",t.animation="none",t.WebkitAnimation="none;"}),1e3),t}
