(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var h=Object.defineProperty,x=Object.getOwnPropertyDescriptor,R=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,M=(t,e)=>{for(var n in e)h(t,n,{get:e[n],enumerable:!0})},L=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of R(e))!E.call(t,a)&&a!==n&&h(t,a,{get:()=>e[a],enumerable:!(r=x(e,a))||r.enumerable});return t},F=t=>L(h({},"__esModule",{value:!0}),t),_={};M(_,{API_ENDPOINTS:()=>A,API_ENDPOINTS_ALPHA:()=>P,API_ENDPOINTS_DEMO:()=>C,API_ENDPOINTS_PRODUCTION:()=>S,API_ENDPOINTS_STAGING:()=>K,resolveAPIEndpoints:()=>q});var j=F(_),P={apis:{derek:"https://derek-alpha.400f.jp/api/v1",dolphin:"https://derek-alpha.400f.jp/api/dolphin/v1",cinnamon:"https://cinnamon-alpha.400f.jp/api/v1",cinnamonWs:"wss://cinnamon-alpha.400f.jp/api/v1",lexington:"https://lexington-alpha.400f.jp/api/v1",cuckoo:"https://cuckoo-alpha.400f.jp/api/v1",bigbrother:"https://bigbrother-alpha.400f.jp/v1",metaphor:"https://metaphor-alpha.400f.jp/v1",call:"https://call-alpha.400f.jp/v1",imgix:"https://okane-kenko-dev.imgix.net",qr:"https://qr-api-alpha.400f.jp",jung:"https://jung-alpha.400f.jp/v2",vurivuri:"https://vurivuri-alpha.400f.jp/v1",harvest:"https://harvest-alpha.400f.jp/v2",hotel:"https://hotel-alpha.400f.jp",superfrog:"https://superfrog-alpha.400f.jp",burn:"https://burn-alpha.400f.jp",federationGateway:"https://federation-gateway-alpha.400f.jp"},env:"alpha"},C={apis:{derek:"https://derek-demo.400f.jp/api/v1",dolphin:"https://derek-demo.400f.jp/api/dolphin/v1",cinnamon:"https://cinnamon-demo.400f.jp/api/v1",cinnamonWs:"wss://cinnamon-demo.400f.jp/api/v1",lexington:"https://lexington-demo.400f.jp/api/v1",cuckoo:"https://cuckoo-demo.400f.jp/api/v1",bigbrother:"https://bigbrother-demo.400f.jp/v1",metaphor:"https://metaphor-demo.400f.jp/v1",call:"https://call-demo.400f.jp/v1",imgix:"https://okane-kenko-demo.imgix.net",qr:"https://qr-api-demo.400f.jp",jung:"https://jung-demo.400f.jp/v2",vurivuri:"https://vurivuri-demo.400f.jp/v1",harvest:"https://harvest-demo.400f.jp/v2",hotel:"https://hotel-demo.400f.jp",superfrog:"https://superfrog-demo.400f.jp",burn:"https://burn-demo.400f.jp",federationGateway:"https://federation-gateway-demo.400f.jp"},env:"demo"},K={apis:{derek:"https://derek-staging.400f.jp/api/v1",dolphin:"https://derek-staging.400f.jp/api/dolphin/v1",cinnamon:"https://cinnamon-staging.400f.jp/api/v1",cinnamonWs:"wss://cinnamon-staging.400f.jp/api/v1",lexington:"https://lexington-staging.400f.jp/api/v1",cuckoo:"https://cuckoo-staging.400f.jp/api/v1",bigbrother:"https://bigbrother-staging.400f.jp/v1",metaphor:"https://metaphor-staging.400f.jp/v1",call:"https://call-staging.400f.jp/v1",imgix:"https://okane-kenko.imgix.net",qr:"https://qr-api-staging.400f.jp",jung:"https://jung-staging.400f.jp/v2",vurivuri:"https://vurivuri-staging.400f.jp/v1",harvest:"https://harvest-staging.400f.jp/v2",hotel:"https://hotel-staging.400f.jp",superfrog:"https://superfrog-staging.400f.jp",burn:"https://burn-staging.400f.jp",federationGateway:"https://federation-gateway-staging.400f.jp"},env:"staging"},S={apis:{derek:"https://okane-kenko.jp/api/v1",dolphin:"https://okane-kenko.jp/api/dolphin/v1",cinnamon:"https://cinnamon.400f.jp/api/v1",cinnamonWs:"wss://cinnamon.400f.jp/api/v1",lexington:"https://lexington.okane-kenko.jp/api/v1",cuckoo:"https://cuckoo.400f.jp/api/v1",bigbrother:"https://tc.okane-kenko.jp/v1",metaphor:"https://metaphor.400f.jp/v1",call:"https://call.400f.jp/v1",imgix:"https://okane-kenko.imgix.net",qr:"https://qr-api.400f.jp",jung:"https://jung.400f.jp/v2",vurivuri:"https://vurivuri.400f.jp/v1",harvest:"https://harvest.400f.jp/v2",hotel:"https://hotel.400f.jp",superfrog:"https://superfrog.400f.jp",burn:"https://burn.400f.jp",federationGateway:"https://federation-gateway.400f.jp"},env:"production"},A={alpha:P,demo:C,staging:K,production:S},q=t=>A[t],m=Object.defineProperty,V=Object.getOwnPropertyDescriptor,W=Object.getOwnPropertyNames,$=Object.prototype.hasOwnProperty,B=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),G=(t,e)=>{for(var n in e)m(t,n,{get:e[n],enumerable:!0})},Q=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of W(e))!$.call(t,a)&&a!==n&&m(t,a,{get:()=>e[a],enumerable:!(r=V(e,a))||r.enumerable});return t},H=t=>Q(m({},"__esModule",{value:!0}),t),J=B(()=>{}),O={};G(O,{createDolphinLogger:()=>ie,createShadowLogger:()=>oe});var X=H(O);function u(t){var e=new Error(t);return e.source="ulid",e}var f="0123456789ABCDEFGHJKMNPQRSTVWXYZ",p=f.length,w=Math.pow(2,48)-1,Y=10,Z=16;function z(t){var e=Math.floor(t()*p);return e===p&&(e=p-1),f.charAt(e)}function ee(t,e){if(isNaN(t))throw new Error(t+" must be a number");if(t>w)throw u("cannot encode time greater than "+w);if(t<0)throw u("time must be positive");if(Number.isInteger(t)===!1)throw u("time must be an integer");for(var n=void 0,r="";e>0;e--)n=t%p,r=f.charAt(n)+r,t=(t-n)/p;return r}function te(t,e){for(var n="";t>0;t--)n=z(e)+n;return n}function ae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=arguments[1];e||(e=typeof window<"u"?window:null);var n=e&&(e.crypto||e.msCrypto);if(n)return function(){var a=new Uint8Array(1);return n.getRandomValues(a),a[0]/255};try{var r=J();return function(){return r.randomBytes(1).readUInt8()/255}}catch{}if(t){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw u("secure crypto unusable, insecure Math.random not allowed")}function ne(t){return t||(t=ae()),function(e){return isNaN(e)&&(e=Date.now()),ee(e,Y)+te(Z,t)}}var k=ne(),re=t=>Object.keys(t).reduce((e,n)=>t[n]!==void 0?{...e,[n]:t[n]}:e,{}),T=t=>{let e=k();return n=>{let r="POST",a=i=>{let s=new URL(`${n.baseUrl}/${t}`),d=new URLSearchParams({category:i.category,action:i.action});return s.search=d.toString(),s.toString()},o=i=>{let s={"Content-Type":"application/json"};return i.apiToken?{...s,"X-API-TOKEN":i.apiToken}:s};return i=>{let{shouldUpdatePageViewId:s=!1,keepalive:d=!0,...D}=i,g={shouldUpdatePageViewId:s,keepalive:d,...D},N=(l,v,c)=>{let y={...l,...re(v),referer:v.referer,pageViewId:e,localTime:new Date().toISOString(),env:n.env};return c!==void 0&&(y.extraParams=c),y};return async(l,v)=>{g.shouldUpdatePageViewId&&(e=k());try{await fetch(a(g),{method:r,headers:o(l),body:JSON.stringify(N(g,l,v)),credentials:"include",referrerPolicy:"unsafe-url",keepalive:g.keepalive})}catch(c){if(n.onError){n.onError(c);return}else throw c}}}}},oe=t=>{let e=T("shadow")(t);return{page:{view:e({category:"page",action:"view",shouldUpdatePageViewId:!0}),hide:e({category:"page",action:"hide"}),notFound:e({category:"page",action:"not_found"})},event:{opinion:e({category:"event",action:"opinion"}),sendChat:e({category:"event",action:"send_chat"}),startDiagnosis:e({category:"event",action:"start_diagnosis"}),answerDiagnosis:e({category:"event",action:"answer_diagnosis"}),abortDiagnosis:e({category:"event",action:"abort_diagnosis"}),finishDiagnosis:e({category:"event",action:"finish_diagnosis"}),showRegisteredDiagnosisResult:e({category:"event",action:"show_registered_diagnosis_result"}),restartDiagnosis:e({category:"event",action:"restart_diagnosis"}),resumeDiagnosis:e({category:"event",action:"resume_diagnosis"}),registerAccount:e({category:"event",action:"register_account"}),getPreviousSession:e({category:"event",action:"get_previous_session"}),searchPlanner:e({category:"event",action:"search_planner"}),matchingPlanner:e({category:"event",action:"matching_planner"}),failedSearchPlanner:e({category:"event",action:"failed_search_planner"}),contact:e({category:"event",action:"contact"}),onayami:e({category:"event",action:"onayami"}),shadow811:e({category:"event",action:"shadow811"}),karteUserComment:e({category:"event",action:"karte_user_comment"}),karteUserTopics:e({category:"event",action:"karte_user_topics"}),createRoom:e({category:"event",action:"create_room"}),clickLinkButton:e({category:"event",action:"click_link_button"}),applySeminar:e({category:"event",action:"apply_seminar"}),clickExternalCalendarIntegrationButton:e({category:"event",action:"click_external_calendar_integration_button"}),inputPostalCode:e({category:"event",action:"input_postal_code"}),viewExternalPage:e({category:"event",action:"view_external_page"}),chatOkaneko:e({category:"event",action:"chat_okaneko",keepalive:!1})},impression:{areaListedPlanner:e({category:"impression",action:"area_listed_planner"}),areaInviewPlanner:e({category:"impression",action:"area_inview_planner"}),inviewKarte:e({category:"impression",action:"inview_karte"}),inviewKartePlannerComment:e({category:"impression",action:"inview_karte_planner_comment"}),inviewDiagnosisTopicsAndConcerns:e({category:"impression",action:"inview_diagnosis_topics_and_concerns"}),inviewAd:e({category:"impression",action:"inview_ad"}),inviewBanner:e({category:"impression",action:"inview_ad"}),inviewSeminarLink:e({category:"impression",action:"inview_seminar_link"})},abTest:{chosen:e({category:"ab_test",action:"chosen"})}}},ie=t=>{let e=T("dolphin")(t);return{page:{view:e({category:"page",action:"view",shouldUpdatePageViewId:!0}),hide:e({category:"page",action:"hide"}),error:e({category:"page",action:"error"})},event:{updateProfile:e({category:"event",action:"updateProfile"}),updateCorporation:e({category:"event",action:"updateCorporation"}),updateAccount:e({category:"event",action:"updateAccount"}),displayAdvice:e({category:"event",action:"displayAdvice"}),feedbackAdvice:e({category:"event",action:"feedbackAdvice"}),loadPastMessages:e({category:"event",action:"loadPastMessages"}),speechInput:e({category:"event",action:"speechInput"}),openDiagnosisModal:e({category:"event",action:"openDiagnosisModal"}),downloadQr:e({category:"event",action:"downloadQr"}),openFAQPage:e({category:"event",action:"openFAQPage"}),sendKartePlannerComment:e({category:"event",action:"sendKartePlannerComment"}),preSendKartePlannerComment:e({category:"event",action:"preSendKartePlannerComment"}),displayKarteUserList:e({category:"event",action:"getKarteUserList"}),applyKarteUserFilteringRule:e({category:"event",action:"applyKarteUserFilteringRule"}),saveKarteUserFilteringRule:e({category:"event",action:"saveKarteUserFilteringRule"}),removeKarteUserFilteringRule:e({category:"event",action:"removeKarteUserFilteringRule"}),updateKarteUserFilteringRule:e({category:"event",action:"updateKarteUserFilteringRule"}),selectKarteCommentTemplate:e({category:"event",action:"selectKarteCommentTemplate"}),createKarteCommentTemplate:e({category:"event",action:"createKarteCommentTemplate"}),updateKarteCommentTemplate:e({category:"event",action:"updateKarteCommentTemplate"}),insertKarteCommentTemplate:e({category:"event",action:"insertKarteCommentTemplate"}),editKarteCommentTemplate:e({category:"event",action:"editKarteCommentTemplate"}),cancelEditingKarteCommentTemplate:e({category:"event",action:"cancelEditingKarteCommentTemplate"}),removeKarteCommentTemplate:e({category:"event",action:"removeKarteCommentTemplate"}),showKarteDetailModal:e({category:"event",action:"showKarteDetailModal"}),showPickupWaitingKarteUsers:e({category:"event",action:"showPickupWaitingKarteUsers"}),clickReloadPickupWaitingKarteUsersButton:e({category:"event",action:"clickReloadPickupWaitingKarteUsersButton"}),sendChatMessage:e({category:"event",action:"sendChatMessage"}),sendChatSelectionMessage:e({category:"event",action:"sendChatSelectionMessage"}),click:e({category:"event",action:"click"}),clickSolicitorCloudDocument:e({category:"event",action:"clickSolicitorCloudDocument"}),searchSolicitorCloudCoverage:e({category:"event",action:"searchSolicitorCloudCoverage"}),updateAutoPostKartePlannerCommentSetting:e({category:"event",action:"updateAutoPostKartePlannerCommentSetting"}),createAutoChatReplySetting:e({category:"event",action:"createAutoChatReplySetting"}),updateAutoChatReplySetting:e({category:"event",action:"updateAutoChatReplySetting"}),deleteAutoChatReplySetting:e({category:"event",action:"deleteAutoChatReplySetting"})},abTest:{abTest:e({category:"ab_test",action:"ab_test"})}}};const b="production",I=X.createShadowLogger({env:j.resolveAPIEndpoints(b).env,baseUrl:j.resolveAPIEndpoints(b).apis.bigbrother}),U={apiToken:void 0,diagnosisId:void 0,referer:document.referrer};I.page.view(U);window.addEventListener("unload",()=>I.page.hide({...U,referer:"no-referer"}));
