(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{11:function(e,t,o){"use strict";var s=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.PageContext=void 0;const i=s(o(0)).default.createContext({});t.PageContext=i},28:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageModelFactory=void 0;var s=o(2),i=o(297),n=o(298);t.PageModelFactory=class{static make(e,t){return(0,s.action)((()=>{const o=new i.PageModel(t);return o.version=n.PageVersionModelFactory.make(e.version,o),this.remake(o,e)}))()}static makeAsync(e,t){return(0,s.action)((async()=>{const o=new i.PageModel(t);return this.remakeBase(o,e),o.version=await n.PageVersionModelFactory.makeAsync(e.version,o),o}))()}static remakeBase(e,t){return(0,s.action)((()=>(e._id=t._id,e.slug=t.slug,e.siteId=t.siteId,e.folderId=t.folderId,e.uuid=t.uuid,e.screenshotVersion=t.screenshotVersion,e.privateVersionId=t.privateVersionId,e.publicVersionId=t.publicVersionId,e.createdAt=t.createdAt,e.updatedAt=t.updatedAt,e.updatedBy=t.updatedBy,e.deletedAt=t.deletedAt,e.templateConfig=t.templateConfig,e)))()}static remake(e,t){return(0,s.action)((()=>(this.remakeBase(e,t),e.version=n.PageVersionModelFactory.make(t.version,e),e)))()}}},297:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageModel=void 0;var s=o(2);t.PageModel=class{constructor(e){this.$siteModel=e,this._id=void 0,this.slug=void 0,this.siteId=void 0,this.folderId=void 0,this.uuid=void 0,this.version=void 0,this.screenshotVersion=void 0,this.privateVersionId=void 0,this.publicVersionId=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.updatedBy=void 0,this.deletedAt=void 0,this.templateConfig=void 0,(0,s.makeAutoObservable)(this)}get pagePath(){return{pageId:this._id,siteId:this.$siteModel._id}}get url(){return this.$siteModel.url+this.slug}}},298:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageVersionModelFactory=void 0;var s=o(2),i=o(53),n=o(299),r=o(305),d=o(307),a=o(309),c=o(311);t.PageVersionModelFactory=class{static make(e,t){return(0,s.action)((()=>{const o=new c.PageVersionModel(t);o._id=e._id,o.title=e.title,o.seoTitle=e.seoTitle,o.seoDescription=e.seoDescription,o.seoKeywords=e.seoKeywords,o.seoImage=e.seoImage,o.createdAt=e.createdAt,o.updatedAt=e.updatedAt,o.deletedAt=e.deletedAt,o.codeHead=e.codeHead,o.codeBody=e.codeBody,o.styles=e.styles,o.noindex=e.noindex,o.conversion=e.conversion;for(const s of e.sections){const e=a.SectionOrganismModelFactory.make(s,t.siteId,t._id);o.sectionMap.set(e._id,e)}for(const s of e.modals){const e=d.ModalOrganismModelFactory.make(s,t.siteId,t._id);o.modalMap.set(e._id,e)}for(const t of e.globalOrganisms||[]){const e=n.GlobalOrganismModelFactory.make(t);o.globalOrganismMap.set(e._id,e)}for(const t of e.megaMenus||[]){const e=r.MegamenuOrganismModelFactory.make(t);o.megamenuMap.set(e._id,e)}for(const t of e.forms||[])o.formMap.set(t._id,t);return o}))()}static makeAsync(e,t){return(0,s.action)((async()=>{const o=new c.PageVersionModel(t);o._id=e._id,o.title=e.title,o.seoTitle=e.seoTitle,o.seoDescription=e.seoDescription,o.seoKeywords=e.seoKeywords,o.seoImage=e.seoImage,o.createdAt=e.createdAt,o.updatedAt=e.updatedAt,o.deletedAt=e.deletedAt,o.codeHead=e.codeHead,o.codeBody=e.codeBody,o.styles=e.styles,o.noindex=e.noindex,o.conversion=e.conversion;for(const s of e.sections){const e=a.SectionOrganismModelFactory.make(s,t.siteId,t._id);o.sectionMap.set(e._id,e),await(0,i.yieldToMain)()}for(const s of e.modals){const e=d.ModalOrganismModelFactory.make(s,t.siteId,t._id);o.modalMap.set(e._id,e)}await(0,i.yieldToMain)();for(const t of e.globalOrganisms||[]){const e=n.GlobalOrganismModelFactory.make(t);o.globalOrganismMap.set(e._id,e)}await(0,i.yieldToMain)();for(const t of e.megaMenus||[]){const e=r.MegamenuOrganismModelFactory.make(t);o.megamenuMap.set(e._id,e)}await(0,i.yieldToMain)();for(const t of e.forms||[])o.formMap.set(t._id,t);return o}))()}}},311:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageVersionModel=void 0;var s=o(2);t.PageVersionModel=class{constructor(e){this.$pageModel=e,this._id=void 0,this.title=void 0,this.seoTitle=void 0,this.seoDescription=void 0,this.seoKeywords=void 0,this.seoImage=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.deletedAt=void 0,this.codeHead=void 0,this.codeBody=void 0,this.styles=void 0,this.noindex=void 0,this.conversion=void 0,this.sectionMap=new Map,this.modalMap=new Map,this.globalOrganismMap=new Map,this.megamenuMap=new Map,this.formMap=new Map,(0,s.makeAutoObservable)(this)}get modals(){return Array.from(this.modalMap.values())}get sections(){return Array.from(this.sectionMap.values()).sort(((e,t)=>e.position-t.position))}get globalOrganisms(){return Array.from(this.globalOrganismMap.values())}get forms(){return Array.from(this.formMap.values())}get megaMenus(){return Array.from(this.megamenuMap.values())}}},314:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageFolderModelFactory=void 0;var s=o(2),i=o(54);t.PageFolderModelFactory=class{static make(e,t){return(0,s.action)((()=>{const o=new i.PageFolderModel(t);return this.remake(o,e)}))()}static remake(e,t){return(0,s.action)((()=>(e._id=t._id,e.slug=t.slug,e.siteId=t.siteId,e.title=t.title,e.createdAt=t.createdAt,e.updatedAt=t.updatedAt,e.updatedBy=t.updatedBy,e.deletedAt=t.deletedAt,e)))()}}},32:function(e,t,o){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCodeAttributes=void 0,t.CustomCodeAttributes=s,function(e){e.HeadCode="dta-custom-code-head",e.BodyStyles="data-custom-styles-body",e.BodyCode="data-custom-code-body",e.BodyScripts="data-custom-scripts-body"}(s||(t.CustomCodeAttributes=s={}))},337:function(e,t,o){"use strict";var s=o(5);Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var i=s(o(0)),n=o(6),r=o(81),d=o(338),a=o(60),c=o(339),l=o(42),u=o(109),m=o(349),v=o(37),p=o(350),g=o(352),y=o(96),f=o(353),C=o(10),h=(o(354),o(11)),M=o(357);const b=(0,n.observer)((()=>{const e=(0,i.useRef)(null),t=(0,i.useContext)(C.SiteContext),o=(0,i.useContext)(h.PageContext),s=(0,i.useContext)(a.SiteViewportContext),n=(0,v.useMegamenuApi)();(()=>{const e=(0,i.useContext)(h.PageContext),t=(0,i.useContext)(l.ConversionContext);(0,i.useEffect)((()=>{var o;(null===(o=e.version.conversion)||void 0===o?void 0:o.trackEvents.length)&&t.trackPage(e.version.conversion)}),[e._id])})(),(0,c.useRedrawHighlights)(t);return i.default.createElement(r.EventListenerContextProvider,null,i.default.createElement("div",{className:"con-kit-page","data-page-id":o._id,ref:e},i.default.createElement(u.GlobalOrganismListContext.Provider,{value:o.version.globalOrganisms},i.default.createElement(y.SectionsContext.Provider,{value:o.version.sections},i.default.createElement(g.SectionBreakpointsManager,{pageModel:o,sections:o.version.sections,showHiddenSections:s.showHiddenSections,viewport:s.viewport}),i.default.createElement(M.PageSectionsList,{sections:o.version.sections}))),i.default.createElement(p.ModalManagerComponent,{pageModel:o,bindTo:e}),!!n.registry.size&&i.default.createElement(m.MegamenuPrerenderComponentAsync,null),i.default.createElement(d.CookieBannerLazyComponent,{siteModel:t}),false,false),i.default.createElement(f.OnepageBarAsyncComponent,null))}));t.Page=b},354:function(e,t,o){"use strict";var s=o(5);Object.defineProperty(t,"__esModule",{value:!0}),t.SiteCustomCodeManager=t.PageCustomCodeManager=void 0;var i=s(o(0)),n=o(6),r=o(10),d=o(11),a=o(355),c=o(356);const l=(0,n.observer)((()=>{const e=(0,i.useContext)(d.PageContext);return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.CustomHeadCode,{code:e.version.codeHead||"",source:"page"}),i.default.createElement(a.CustomBodyCode,{source:"page",code:e.version.codeBody||"",styles:e.version.styles||""}))}));t.PageCustomCodeManager=l;const u=(0,n.observer)((()=>{const e=(0,i.useContext)(r.SiteContext);return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.CustomHeadCode,{code:e.codeHead||"",source:"site"}),i.default.createElement(a.CustomBodyCode,{source:"site",code:e.codeBody||"",styles:e.styles||""}))}));t.SiteCustomCodeManager=u},355:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomBodyCode=void 0;var s=o(0),i=o(6),n=o(32),r=o(62);const d=(0,i.observer)((e=>{const t="undefined"!=typeof document?document:null,[o]=(0,s.useState)((()=>{if(!t)return;const o=t.body,s=t.createElement("style");s.setAttribute(n.CustomCodeAttributes.BodyStyles,e.source);const i=t.createElement("div");i.setAttribute(n.CustomCodeAttributes.BodyCode,e.source);const r=t.createElement("div");return r.setAttribute(n.CustomCodeAttributes.BodyScripts,e.source),{container:o,stylesContainer:s,codeContainer:i,codeFragment:r}})),i=(0,s.useCallback)((s=>{if(!t)return;if(!o)return;o.container.appendChild(o.stylesContainer),o.container.appendChild(o.codeContainer),o.container.appendChild(o.codeFragment);const i=(0,r.processCode)(s||"",!1,e.source);try{o.codeContainer.innerHTML=i.innerHTML||""}catch(e){console.error(e)}i.scripts.forEach((e=>{o.codeFragment.appendChild(e)}))}),[t,o,e.source]),d=(0,s.useCallback)((()=>{if(t&&o){o.codeFragment.childNodes.forEach((e=>{o.codeFragment.removeChild(e)}));try{o.codeContainer.innerHTML=""}catch(e){console.error(e)}try{var e;null===(e=o.stylesContainer.parentNode)||void 0===e||e.removeChild(o.stylesContainer)}catch(e){console.error(e)}try{var s;null===(s=o.codeContainer.parentNode)||void 0===s||s.removeChild(o.codeContainer)}catch(e){console.error(e)}try{var i;null===(i=o.codeFragment.parentNode)||void 0===i||i.removeChild(o.codeFragment)}catch(e){console.error(e)}}}),[t,o]),a=(0,s.useCallback)((e=>{t&&o&&(d(),i(e))}),[t,o]),c=(0,s.useCallback)(((e="")=>{t&&o&&"undefined"!=typeof window&&(o.container.contains(o.stylesContainer)||o.container.appendChild(o.stylesContainer),o.stylesContainer.innerHTML=e)}),[t,o]),l=(0,s.useCallback)((()=>{if(t&&o)try{o.container.removeChild(o.stylesContainer)}catch(e){console.error(e)}}),[t,o]);return(0,s.useEffect)((()=>()=>{l(),d()}),[]),(0,s.useEffect)((()=>{a(e.code)}),[e.code]),(0,s.useEffect)((()=>{c(e.styles)}),[e.styles]),null}));t.CustomBodyCode=d},356:function(e,t,o){"use strict";var s=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.CustomHeadCode=void 0;var i,n=s(o(0)),r=o(6),d=o(32),a=o(62);let c=(0,r.observer)(i=class extends n.default.Component{constructor(e){if(super(e),this.container=null,this.doc=null,"undefined"==typeof document)return;const t=document;t&&(this.doc=t,this.container=t.head)}componentDidMount(){if(this.doc&&this.container){const e=this.doc.createDocumentFragment(),t=(0,a.processCode)(this.props.code,!0,this.props.source);t.scripts.forEach((t=>{e.append(t)})),t.HTMLNodes.forEach((t=>{e.append(t)})),this.doc.head.appendChild(e)}}componentWillUnmount(){this.doc&&this.doc.querySelectorAll(`[${d.CustomCodeAttributes.HeadCode}]`).forEach((e=>{e.remove()}))}render(){return null}})||i;t.CustomHeadCode=c},357:function(e,t,o){"use strict";var s=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.PageSectionsList=void 0;var i=s(o(0)),n=o(6),r=o(63);const d=(0,n.observer)((e=>i.default.createElement(i.default.Fragment,null,e.sections.map((e=>i.default.createElement(r.SectionOrganismComponentLazy,{key:e._id,organismModel:e}))))));t.PageSectionsList=d},54:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageFolderModel=void 0;var s=o(2),i=o(314);class n{constructor(e){this.$siteModel=e,this._id=void 0,this.slug=void 0,this.siteId=void 0,this.title=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.updatedBy=void 0,this.deletedAt=void 0,(0,s.makeAutoObservable)(this)}get folderPath(){return{folderId:this._id,siteId:this.$siteModel._id}}}t.PageFolderModel=n,n.make=i.PageFolderModelFactory.make,n.remake=i.PageFolderModelFactory.remake},62:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processCode=void 0;var s=o(32);t.processCode=(e,t=!1,o)=>{let i=[];const n=document.implementation.createHTMLDocument();n.body.innerHTML=e,[].map.call(n.querySelectorAll("script"),(e=>{try{const r=document.createElement("script");e.textContent&&(t&&r.setAttribute(s.CustomCodeAttributes.HeadCode,o||""),r.innerHTML=e.textContent),r.dataset.cookieconsent="ignore",[].forEach.call(e.attributes,(e=>{r.setAttribute(e.name,e.value)})),i=[...i,r],n.body.removeChild(e)}catch(e){console.log("e",e)}}));const r=n.body.querySelectorAll("*");return t&&r.forEach((e=>{"dataset"in e&&e.dataset&&e.setAttribute(s.CustomCodeAttributes.HeadCode,o||"")})),{scripts:i,innerHTML:n.body.innerHTML,HTMLNodes:r}}}}]);